(()=>{var ys=Object.create;var Er=Object.defineProperty;var vs=Object.getOwnPropertyDescriptor;var bs=Object.getOwnPropertyNames;var ws=Object.getPrototypeOf,Es=Object.prototype.hasOwnProperty;var Ss=(r,t,e)=>t in r?Er(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var oe=(r,t)=>()=>(r&&(t=r(r=0)),t);var Ti=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),As=(r,t)=>{for(var e in t)Er(r,e,{get:t[e],enumerable:!0})},Ts=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bs(t))!Es.call(r,s)&&s!==e&&Er(r,s,{get:()=>t[s],enumerable:!(n=vs(t,s))||n.enumerable});return r};var tn=(r,t,e)=>(e=r!=null?ys(ws(r)):{},Ts(t||!r||!r.__esModule?Er(e,"default",{value:r,enumerable:!0}):e,r));var ce=(r,t,e)=>(Ss(r,typeof t!="symbol"?t+"":t,e),e);var be,Ir=oe(()=>{be={logger:self.console,WebSocket:self.WebSocket}});var lt,Ie=oe(()=>{Ir();lt={log(...r){this.enabled&&(r.push(Date.now()),be.logger.log("[ActionCable]",...r))}}});var Qe,Dr,tr,qr,On=oe(()=>{Ie();Qe=()=>new Date().getTime(),Dr=r=>(Qe()-r)/1e3,tr=class{constructor(t){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=Qe(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),lt.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=Qe(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),lt.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=Qe()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,lt.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=Qe(),lt.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){let{staleThreshold:t,reconnectionBackoffRate:e}=this.constructor,n=Math.pow(1+e,Math.min(this.reconnectAttempts,10)),h=(this.reconnectAttempts===0?1:e)*Math.random();return t*1e3*n*(1+h)}reconnectIfStale(){this.connectionIsStale()&&(lt.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Dr(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?lt.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Dr(this.disconnectedAt)} s`):(lt.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Dr(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Dr(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(lt.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}};tr.staleThreshold=6;tr.reconnectionBackoffRate=.15;qr=tr});var er,kn=oe(()=>{er={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]}});var rr,jr,Ro,qi,nr,Nr,Rn=oe(()=>{Ir();On();kn();Ie();({message_types:rr,protocols:jr}=er),Ro=jr.slice(0,jr.length-1),qi=[].indexOf,nr=class{constructor(t){this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new qr(this),this.disconnected=!0}send(t){return this.isOpen()?(this.webSocket.send(JSON.stringify(t)),!0):!1}open(){return this.isActive()?(lt.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(lt.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${jr}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new be.WebSocket(this.consumer.url,jr),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:t}={allowReconnect:!0}){if(t||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(lt.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(t){lt.log("Failed to reopen WebSocket",t)}finally{lt.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return qi.call(Ro,this.getProtocol())>=0}isState(...t){return qi.call(t,this.getState())>=0}getState(){if(this.webSocket){for(let t in be.WebSocket)if(be.WebSocket[t]===this.webSocket.readyState)return t.toLowerCase()}return null}installEventHandlers(){for(let t in this.events){let e=this.events[t].bind(this);this.webSocket[`on${t}`]=e}}uninstallEventHandlers(){for(let t in this.events)this.webSocket[`on${t}`]=function(){}}};nr.reopenDelay=500;nr.prototype.events={message(r){if(!this.isProtocolSupported())return;let{identifier:t,message:e,reason:n,reconnect:s,type:h}=JSON.parse(r.data);switch(h){case rr.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case rr.disconnect:return lt.log(`Disconnecting. Reason: ${n}`),this.close({allowReconnect:s});case rr.ping:return this.monitor.recordPing();case rr.confirmation:return this.subscriptions.confirmSubscription(t),this.subscriptions.notify(t,"connected");case rr.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",e)}},open(){if(lt.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return lt.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(r){if(lt.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){lt.log("WebSocket onerror event")}};Nr=nr});var xo,Le,xn=oe(()=>{xo=function(r,t){if(t!=null)for(let e in t){let n=t[e];r[e]=n}return r},Le=class{constructor(t,e={},n){this.consumer=t,this.identifier=JSON.stringify(e),xo(this,n)}perform(t,e={}){return e.action=t,this.send(e)}send(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}});var Pn,Hr,Mn=oe(()=>{Ie();Pn=class{constructor(t){this.subscriptions=t,this.pendingSubscriptions=[]}guarantee(t){this.pendingSubscriptions.indexOf(t)==-1?(lt.log(`SubscriptionGuarantor guaranteeing ${t.identifier}`),this.pendingSubscriptions.push(t)):lt.log(`SubscriptionGuarantor already guaranteeing ${t.identifier}`),this.startGuaranteeing()}forget(t){lt.log(`SubscriptionGuarantor forgetting ${t.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(e=>e!==t)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(t=>{lt.log(`SubscriptionGuarantor resubscribing ${t.identifier}`),this.subscriptions.subscribe(t)})},500)}},Hr=Pn});var Oe,_n=oe(()=>{xn();Mn();Ie();Oe=class{constructor(t){this.consumer=t,this.guarantor=new Hr(this),this.subscriptions=[]}create(t,e){let n=t,s=typeof n=="object"?n:{channel:n},h=new Le(this.consumer,s,e);return this.add(h)}add(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.subscribe(t),t}remove(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t}reject(t){return this.findAll(t).map(e=>(this.forget(e),this.notify(e,"rejected"),e))}forget(t){return this.guarantor.forget(t),this.subscriptions=this.subscriptions.filter(e=>e!==t),t}findAll(t){return this.subscriptions.filter(e=>e.identifier===t)}reload(){return this.subscriptions.map(t=>this.subscribe(t))}notifyAll(t,...e){return this.subscriptions.map(n=>this.notify(n,t,...e))}notify(t,e,...n){let s;return typeof t=="string"?s=this.findAll(t):s=[t],s.map(h=>typeof h[e]=="function"?h[e](...n):void 0)}subscribe(t){this.sendCommand(t,"subscribe")&&this.guarantor.guarantee(t)}confirmSubscription(t){lt.log(`Subscription confirmed ${t}`),this.findAll(t).map(e=>this.guarantor.forget(e))}sendCommand(t,e){let{identifier:n}=t;return this.consumer.send({command:e,identifier:n})}}});function Fn(r){if(typeof r=="function"&&(r=r()),r&&!/^wss?:/i.test(r)){let t=document.createElement("a");return t.href=r,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}else return r}var De,ji=oe(()=>{Rn();_n();De=class{constructor(t){this._url=t,this.subscriptions=new Oe(this),this.connection=new Nr(this)}get url(){return Fn(this._url)}send(t){return this.connection.send(t)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}});var Hi={};As(Hi,{Connection:()=>Nr,ConnectionMonitor:()=>qr,Consumer:()=>De,INTERNAL:()=>er,Subscription:()=>Le,SubscriptionGuarantor:()=>Hr,Subscriptions:()=>Oe,adapters:()=>be,createConsumer:()=>Po,createWebSocketURL:()=>Fn,getConfig:()=>Ni,logger:()=>lt});function Po(r=Ni("url")||er.default_mount_path){return new De(r)}function Ni(r){let t=document.head.querySelector(`meta[name='action-cable-${r}']`);if(t)return t.getAttribute("content")}var $i=oe(()=>{Rn();On();ji();kn();xn();_n();Mn();Ir();Ie()});var pi=Ti((cs,ls)=>{(function(){"use strict";var r=document,t=window,e=r.documentElement,n=r.createElement.bind(r),s=n("div"),h=n("table"),O=n("tbody"),k=n("tr"),j=Array.isArray,q=Array.prototype,X=q.concat,N=q.filter,H=q.indexOf,M=q.map,T=q.push,E=q.slice,g=q.some,v=q.splice,f=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,l=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,c=/<.+>/,a=/^\w+$/;function i(o,u){var d=W(u);return!o||!d&&!_(u)&&!D(u)?[]:!d&&l.test(o)?u.getElementsByClassName(o.slice(1).replace(/\\/g,"")):!d&&a.test(o)?u.getElementsByTagName(o):u.querySelectorAll(o)}var S=function(){function o(u,d){if(u){if(L(u))return u;var A=u;if(pt(u)){var R=d||r;if(A=f.test(u)&&_(R)?R.getElementById(u.slice(1).replace(/\\/g,"")):c.test(u)?$e(u):L(R)?R.find(u):pt(R)?b(R).find(u):i(u,R),!A)return}else if(Mt(u))return this.ready(u);(A.nodeType||A===t)&&(A=[A]),this.length=A.length;for(var I=0,V=this.length;I<V;I++)this[I]=A[I]}}return o.prototype.init=function(u,d){return new o(u,d)},o}(),p=S.prototype,b=p.init;b.fn=b.prototype=p,p.length=0,p.splice=v,typeof Symbol=="function"&&(p[Symbol.iterator]=q[Symbol.iterator]);function L(o){return o instanceof S}function x(o){return!!o&&o===o.window}function _(o){return!!o&&o.nodeType===9}function W(o){return!!o&&o.nodeType===11}function D(o){return!!o&&o.nodeType===1}function gt(o){return!!o&&o.nodeType===3}function ot(o){return typeof o=="boolean"}function Mt(o){return typeof o=="function"}function pt(o){return typeof o=="string"}function yt(o){return o===void 0}function jt(o){return o===null}function pe(o){return!isNaN(parseFloat(o))&&isFinite(o)}function ht(o){if(typeof o!="object"||o===null)return!1;var u=Object.getPrototypeOf(o);return u===null||u===Object.prototype}b.isWindow=x,b.isFunction=Mt,b.isArray=j,b.isNumeric=pe,b.isPlainObject=ht;function vt(o,u,d){if(d){for(var A=o.length;A--;)if(u.call(o[A],A,o[A])===!1)return o}else if(ht(o))for(var R=Object.keys(o),A=0,I=R.length;A<I;A++){var V=R[A];if(u.call(o[V],V,o[V])===!1)return o}else for(var A=0,I=o.length;A<I;A++)if(u.call(o[A],A,o[A])===!1)return o;return o}b.each=vt,p.each=function(o){return vt(this,o)},p.empty=function(){return this.each(function(o,u){for(;u.firstChild;)u.removeChild(u.firstChild)})};function Nt(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var d=ot(o[0])?o.shift():!1,A=o.shift(),R=o.length;if(!A)return{};if(!R)return Nt(d,b,A);for(var I=0;I<R;I++){var V=o[I];for(var Z in V)d&&(j(V[Z])||ht(V[Z]))?((!A[Z]||A[Z].constructor!==V[Z].constructor)&&(A[Z]=new V[Z].constructor),Nt(d,A[Z],V[Z])):A[Z]=V[Z]}return A}b.extend=Nt,p.extend=function(o){return Nt(p,o)};var Zr=/\S+/g;function Re(o){return pt(o)?o.match(Zr)||[]:[]}p.toggleClass=function(o,u){var d=Re(o),A=!yt(u);return this.each(function(R,I){D(I)&&vt(d,function(V,Z){A?u?I.classList.add(Z):I.classList.remove(Z):I.classList.toggle(Z)})})},p.addClass=function(o){return this.toggleClass(o,!0)},p.removeAttr=function(o){var u=Re(o);return this.each(function(d,A){D(A)&&vt(u,function(R,I){A.removeAttribute(I)})})};function mr(o,u){if(o){if(pt(o)){if(arguments.length<2){if(!this[0]||!D(this[0]))return;var d=this[0].getAttribute(o);return jt(d)?void 0:d}return yt(u)?this:jt(u)?this.removeAttr(o):this.each(function(R,I){D(I)&&I.setAttribute(o,u)})}for(var A in o)this.attr(A,o[A]);return this}}p.attr=mr,p.removeClass=function(o){return arguments.length?this.toggleClass(o,!1):this.attr("class","")},p.hasClass=function(o){return!!o&&g.call(this,function(u){return D(u)&&u.classList.contains(o)})},p.get=function(o){return yt(o)?E.call(this):(o=Number(o),this[o<0?o+this.length:o])},p.eq=function(o){return b(this.get(o))},p.first=function(){return this.eq(0)},p.last=function(){return this.eq(-1)};function gr(o){return yt(o)?this.get().map(function(u){return D(u)||gt(u)?u.textContent:""}).join(""):this.each(function(u,d){D(d)&&(d.textContent=o)})}p.text=gr;function Zt(o,u,d){if(D(o)){var A=t.getComputedStyle(o,null);return d?A.getPropertyValue(u)||void 0:A[u]||o.style[u]}}function Dt(o,u){return parseInt(Zt(o,u),10)||0}function Vt(o,u){return Dt(o,"border".concat(u?"Left":"Top","Width"))+Dt(o,"padding".concat(u?"Left":"Top"))+Dt(o,"padding".concat(u?"Right":"Bottom"))+Dt(o,"border".concat(u?"Right":"Bottom","Width"))}var re={};function je(o){if(re[o])return re[o];var u=n(o);r.body.insertBefore(u,null);var d=Zt(u,"display");return r.body.removeChild(u),re[o]=d!=="none"?d:"block"}function Ne(o){return Zt(o,"display")==="none"}function yr(o,u){var d=o&&(o.matches||o.webkitMatchesSelector||o.msMatchesSelector);return!!d&&!!u&&d.call(o,u)}function Ee(o){return pt(o)?function(u,d){return yr(d,o)}:Mt(o)?o:L(o)?function(u,d){return o.is(d)}:o?function(u,d){return d===o}:function(){return!1}}p.filter=function(o){var u=Ee(o);return b(N.call(this,function(d,A){return u.call(d,A,d)}))};function ne(o,u){return u?o.filter(u):o}p.detach=function(o){return ne(this,o).each(function(u,d){d.parentNode&&d.parentNode.removeChild(d)}),this};var xe=/^\s*<(\w+)[^>]*>/,Gr=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,He={"*":s,tr:O,td:k,th:k,thead:h,tbody:h,tfoot:h};function $e(o){if(!pt(o))return[];if(Gr.test(o))return[n(RegExp.$1)];var u=xe.test(o)&&RegExp.$1,d=He[u]||He["*"];return d.innerHTML=o,b(d.childNodes).detach().get()}b.parseHTML=$e,p.has=function(o){var u=pt(o)?function(d,A){return i(o,A).length}:function(d,A){return A.contains(o)};return this.filter(u)},p.not=function(o){var u=Ee(o);return this.filter(function(d,A){return(!pt(o)||D(A))&&!u.call(A,d,A)})};function Wt(o,u,d,A){for(var R=[],I=Mt(u),V=A&&Ee(A),Z=0,qt=o.length;Z<qt;Z++)if(I){var ft=u(o[Z]);ft.length&&T.apply(R,ft)}else for(var xt=o[Z][u];xt!=null&&!(A&&V(-1,xt));)R.push(xt),xt=d?xt[u]:null;return R}function Ve(o){return o.multiple&&o.options?Wt(N.call(o.options,function(u){return u.selected&&!u.disabled&&!u.parentNode.disabled}),"value"):o.value||""}function vr(o){return arguments.length?this.each(function(u,d){var A=d.multiple&&d.options;if(A||kt.test(d.type)){var R=j(o)?M.call(o,String):jt(o)?[]:[String(o)];A?vt(d.options,function(I,V){V.selected=R.indexOf(V.value)>=0},!0):d.checked=R.indexOf(d.value)>=0}else d.value=yt(o)||jt(o)?"":o}):this[0]&&Ve(this[0])}p.val=vr,p.is=function(o){var u=Ee(o);return g.call(this,function(d,A){return u.call(d,A,d)})},b.guid=1;function Ut(o){return o.length>1?N.call(o,function(u,d,A){return H.call(A,u)===d}):o}b.unique=Ut,p.add=function(o,u){return b(Ut(this.get().concat(b(o,u).get())))},p.children=function(o){return ne(b(Ut(Wt(this,function(u){return u.children}))),o)},p.parent=function(o){return ne(b(Ut(Wt(this,"parentNode"))),o)},p.index=function(o){var u=o?b(o)[0]:this[0],d=o?this:b(u).parent().children();return H.call(d,u)},p.closest=function(o){var u=this.filter(o);if(u.length)return u;var d=this.parent();return d.length?d.closest(o):u},p.siblings=function(o){return ne(b(Ut(Wt(this,function(u){return b(u).parent().children().not(u)}))),o)},p.find=function(o){return b(Ut(Wt(this,function(u){return i(o,u)})))};var Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ae=/^$|^module$|\/(java|ecma)script/i,br=["type","src","nonce","noModule"];function wr(o,u){var d=b(o);d.filter("script").add(d.find("script")).each(function(A,R){if(Ae.test(R.type)&&e.contains(R)){var I=n("script");I.text=R.textContent.replace(Se,""),vt(br,function(V,Z){R[Z]&&(I[Z]=R[Z])}),u.head.insertBefore(I,null),u.head.removeChild(I)}})}function Yr(o,u,d,A,R){A?o.insertBefore(u,d?o.firstChild:null):o.nodeName==="HTML"?o.parentNode.replaceChild(u,o):o.parentNode.insertBefore(u,d?o:o.nextSibling),R&&wr(u,o.ownerDocument)}function y(o,u,d,A,R,I,V,Z){return vt(o,function(qt,ft){vt(b(ft),function(xt,zt){vt(b(u),function(Ft,Gt){var se=d?zt:Gt,Ht=d?Gt:zt,Ct=d?xt:Ft;Yr(se,Ct?Ht.cloneNode(!0):Ht,A,R,!Ct)},Z)},V)},I),u}p.after=function(){return y(arguments,this,!1,!1,!1,!0,!0)},p.append=function(){return y(arguments,this,!1,!1,!0)};function m(o){if(!arguments.length)return this[0]&&this[0].innerHTML;if(yt(o))return this;var u=/<script[\s>]/.test(o);return this.each(function(d,A){D(A)&&(u?b(A).empty().append(o):A.innerHTML=o)})}p.html=m,p.appendTo=function(o){return y(arguments,this,!0,!1,!0)},p.wrapInner=function(o){return this.each(function(u,d){var A=b(d),R=A.contents();R.length?R.wrapAll(o):A.append(o)})},p.before=function(){return y(arguments,this,!1,!0)},p.wrapAll=function(o){for(var u=b(o),d=u[0];d.children.length;)d=d.firstElementChild;return this.first().before(u),this.appendTo(d)},p.wrap=function(o){return this.each(function(u,d){var A=b(o)[0];b(d).wrapAll(u?A.cloneNode(!0):A)})},p.insertAfter=function(o){return y(arguments,this,!0,!1,!1,!1,!1,!0)},p.insertBefore=function(o){return y(arguments,this,!0,!0)},p.prepend=function(){return y(arguments,this,!1,!0,!0,!0,!0)},p.prependTo=function(o){return y(arguments,this,!0,!0,!0,!1,!1,!0)},p.contents=function(){return b(Ut(Wt(this,function(o){return o.tagName==="IFRAME"?[o.contentDocument]:o.tagName==="TEMPLATE"?o.content.childNodes:o.childNodes})))},p.next=function(o,u,d){return ne(b(Ut(Wt(this,"nextElementSibling",u,d))),o)},p.nextAll=function(o){return this.next(o,!0)},p.nextUntil=function(o,u){return this.next(u,!0,o)},p.parents=function(o,u){return ne(b(Ut(Wt(this,"parentElement",!0,u))),o)},p.parentsUntil=function(o,u){return this.parents(u,o)},p.prev=function(o,u,d){return ne(b(Ut(Wt(this,"previousElementSibling",u,d))),o)},p.prevAll=function(o){return this.prev(o,!0)},p.prevUntil=function(o,u){return this.prev(u,!0,o)},p.map=function(o){return b(X.apply([],M.call(this,function(u,d){return o.call(u,d,u)})))},p.clone=function(){return this.map(function(o,u){return u.cloneNode(!0)})},p.offsetParent=function(){return this.map(function(o,u){for(var d=u.offsetParent;d&&Zt(d,"position")==="static";)d=d.offsetParent;return d||e})},p.slice=function(o,u){return b(E.call(this,o,u))};var w=/-([a-z])/g;function C(o){return o.replace(w,function(u,d){return d.toUpperCase()})}p.ready=function(o){var u=function(){return setTimeout(o,0,b)};return r.readyState!=="loading"?u():r.addEventListener("DOMContentLoaded",u),this},p.unwrap=function(){return this.parent().each(function(o,u){if(u.tagName!=="BODY"){var d=b(u);d.replaceWith(d.children())}}),this},p.offset=function(){var o=this[0];if(o){var u=o.getBoundingClientRect();return{top:u.top+t.pageYOffset,left:u.left+t.pageXOffset}}},p.position=function(){var o=this[0];if(o){var u=Zt(o,"position")==="fixed",d=u?o.getBoundingClientRect():this.offset();if(!u){for(var A=o.ownerDocument,R=o.offsetParent||A.documentElement;(R===A.body||R===A.documentElement)&&Zt(R,"position")==="static";)R=R.parentNode;if(R!==o&&D(R)){var I=b(R).offset();d.top-=I.top+Dt(R,"borderTopWidth"),d.left-=I.left+Dt(R,"borderLeftWidth")}}return{top:d.top-Dt(o,"marginTop"),left:d.left-Dt(o,"marginLeft")}}};var B={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};p.prop=function(o,u){if(o){if(pt(o))return o=B[o]||o,arguments.length<2?this[0]&&this[0][o]:this.each(function(A,R){R[o]=u});for(var d in o)this.prop(d,o[d]);return this}},p.removeProp=function(o){return this.each(function(u,d){delete d[B[o]||o]})};var F=/^--/;function P(o){return F.test(o)}var $={},U=s.style,z=["webkit","moz","ms"];function J(o,u){if(u===void 0&&(u=P(o)),u)return o;if(!$[o]){var d=C(o),A="".concat(d[0].toUpperCase()).concat(d.slice(1)),R="".concat(d," ").concat(z.join("".concat(A," "))).concat(A).split(" ");vt(R,function(I,V){if(V in U)return $[o]=V,!1})}return $[o]}var K={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function mt(o,u,d){return d===void 0&&(d=P(o)),!d&&!K[o]&&pe(u)?"".concat(u,"px"):u}function tt(o,u){if(pt(o)){var d=P(o);return o=J(o,d),arguments.length<2?this[0]&&Zt(this[0],o,d):o?(u=mt(o,u,d),this.each(function(R,I){D(I)&&(d?I.style.setProperty(o,u):I.style[o]=u)})):this}for(var A in o)this.css(A,o[A]);return this}p.css=tt;function it(o,u){try{return o(u)}catch{return u}}var st=/^\s+|\s+$/;function G(o,u){var d=o.dataset[u]||o.dataset[C(u)];return st.test(d)?d:it(JSON.parse,d)}function bt(o,u,d){d=it(JSON.stringify,d),o.dataset[C(u)]=d}function ut(o,u){if(!o){if(!this[0])return;var d={};for(var A in this[0].dataset)d[A]=G(this[0],A);return d}if(pt(o))return arguments.length<2?this[0]&&G(this[0],o):yt(u)?this:this.each(function(R,I){bt(I,o,u)});for(var A in o)this.data(A,o[A]);return this}p.data=ut;function rt(o,u){var d=o.documentElement;return Math.max(o.body["scroll".concat(u)],d["scroll".concat(u)],o.body["offset".concat(u)],d["offset".concat(u)],d["client".concat(u)])}vt([!0,!1],function(o,u){vt(["Width","Height"],function(d,A){var R="".concat(u?"outer":"inner").concat(A);p[R]=function(I){if(this[0])return x(this[0])?u?this[0]["inner".concat(A)]:this[0].document.documentElement["client".concat(A)]:_(this[0])?rt(this[0],A):this[0]["".concat(u?"offset":"client").concat(A)]+(I&&u?Dt(this[0],"margin".concat(d?"Top":"Left"))+Dt(this[0],"margin".concat(d?"Bottom":"Right")):0)}})}),vt(["Width","Height"],function(o,u){var d=u.toLowerCase();p[d]=function(A){if(!this[0])return yt(A)?void 0:this;if(!arguments.length)return x(this[0])?this[0].document.documentElement["client".concat(u)]:_(this[0])?rt(this[0],u):this[0].getBoundingClientRect()[d]-Vt(this[0],!o);var R=parseInt(A,10);return this.each(function(I,V){if(D(V)){var Z=Zt(V,"boxSizing");V.style[d]=mt(d,R+(Z==="border-box"?Vt(V,!o):0))}})}});var at="___cd";p.toggle=function(o){return this.each(function(u,d){if(D(d)){var A=Ne(d),R=yt(o)?A:o;R?(d.style.display=d[at]||"",Ne(d)&&(d.style.display=je(d.tagName))):A||(d[at]=Zt(d,"display"),d.style.display="none")}})},p.hide=function(){return this.toggle(!1)},p.show=function(){return this.toggle(!0)};var Y="___ce",Q=".",et={focus:"focusin",blur:"focusout"},nt={mouseenter:"mouseover",mouseleave:"mouseout"},ct=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function wt(o){return nt[o]||et[o]||o}function St(o){var u=o.split(Q);return[u[0],u.slice(1).sort()]}p.trigger=function(o,u){if(pt(o)){var d=St(o),A=d[0],R=d[1],I=wt(A);if(!I)return this;var V=ct.test(I)?"MouseEvents":"HTMLEvents";o=r.createEvent(V),o.initEvent(I,!0,!0),o.namespace=R.join(Q),o.___ot=A}o.___td=u;var Z=o.___ot in et;return this.each(function(qt,ft){Z&&Mt(ft[o.___ot])&&(ft["___i".concat(o.type)]=!0,ft[o.___ot](),ft["___i".concat(o.type)]=!1),ft.dispatchEvent(o)})};function Rt(o){return o[Y]=o[Y]||{}}function Kt(o,u,d,A,R){var I=Rt(o);I[u]=I[u]||[],I[u].push([d,A,R]),o.addEventListener(u,R)}function Xt(o,u){return!u||!g.call(u,function(d){return o.indexOf(d)<0})}function Lt(o,u,d,A,R){var I=Rt(o);if(u)I[u]&&(I[u]=I[u].filter(function(V){var Z=V[0],qt=V[1],ft=V[2];if(R&&ft.guid!==R.guid||!Xt(Z,d)||A&&A!==qt)return!0;o.removeEventListener(u,ft)}));else for(u in I)Lt(o,u,d,A,R)}p.off=function(o,u,d){var A=this;if(yt(o))this.each(function(I,V){!D(V)&&!_(V)&&!x(V)||Lt(V)});else if(pt(o))Mt(u)&&(d=u,u=""),vt(Re(o),function(I,V){var Z=St(V),qt=Z[0],ft=Z[1],xt=wt(qt);A.each(function(zt,Ft){!D(Ft)&&!_(Ft)&&!x(Ft)||Lt(Ft,xt,ft,u,d)})});else for(var R in o)this.off(R,o[R]);return this},p.remove=function(o){return ne(this,o).detach().off(),this},p.replaceWith=function(o){return this.before(o).remove()},p.replaceAll=function(o){return b(o).replaceWith(this),this};function Ot(o,u,d,A,R){var I=this;if(!pt(o)){for(var V in o)this.on(V,u,d,o[V],R);return this}return pt(u)||(yt(u)||jt(u)?u="":yt(d)?(d=u,u=""):(A=d,d=u,u="")),Mt(A)||(A=d,d=void 0),A?(vt(Re(o),function(Z,qt){var ft=St(qt),xt=ft[0],zt=ft[1],Ft=wt(xt),Gt=xt in nt,se=xt in et;Ft&&I.each(function(Ht,Ct){if(!(!D(Ct)&&!_(Ct)&&!x(Ct))){var Yt=function(Tt){if(Tt.target["___i".concat(Tt.type)])return Tt.stopImmediatePropagation();if(!(Tt.namespace&&!Xt(zt,Tt.namespace.split(Q)))&&!(!u&&(se&&(Tt.target!==Ct||Tt.___ot===Ft)||Gt&&Tt.relatedTarget&&Ct.contains(Tt.relatedTarget)))){var Pe=Ct;if(u){for(var ae=Tt.target;!yr(ae,u);)if(ae===Ct||(ae=ae.parentNode,!ae))return;Pe=ae}Object.defineProperty(Tt,"currentTarget",{configurable:!0,get:function(){return Pe}}),Object.defineProperty(Tt,"delegateTarget",{configurable:!0,get:function(){return Ct}}),Object.defineProperty(Tt,"data",{configurable:!0,get:function(){return d}});var We=A.call(Pe,Tt,Tt.___td);R&&Lt(Ct,Ft,zt,u,Yt),We===!1&&(Tt.preventDefault(),Tt.stopPropagation())}};Yt.guid=A.guid=A.guid||b.guid++,Kt(Ct,Ft,zt,u,Yt)}})}),this):this}p.on=Ot;function At(o,u,d,A){return this.on(o,u,d,A,!0)}p.one=At;var dt=/\r?\n/g;function ie(o,u){return"&".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(u.replace(dt,`\r
`)))}var _t=/file|reset|submit|button|image/i,kt=/radio|checkbox/i;p.serialize=function(){var o="";return this.each(function(u,d){vt(d.elements||[d],function(A,R){if(!(R.disabled||!R.name||R.tagName==="FIELDSET"||_t.test(R.type)||kt.test(R.type)&&!R.checked)){var I=Ve(R);if(!yt(I)){var V=j(I)?I:[I];vt(V,function(Z,qt){o+=ie(R.name,qt)})}}})}),o.slice(1)},typeof cs<"u"?ls.exports=b:t.cash=t.$=b})()});var ps=Ti((Xr,vi)=>{(function(r,t){if(typeof Xr=="object"&&typeof vi=="object")vi.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e=t();for(var n in e)(typeof Xr=="object"?Xr:r)[n]=e[n]}})(self,function(){return(()=>{"use strict";var r={661:(s,h,O)=>{function k(M){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},k(M)}function j(M,T){for(var E=0;E<T.length;E++){var g=T[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(M,g.key,g)}}function q(M,T){return q=Object.setPrototypeOf||function(E,g){return E.__proto__=g,E},q(M,T)}function X(M,T){if(T&&(k(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(M)}function N(M){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},N(M)}var H=function(M){(function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&q(c,a)})(l,M);var T,E,g,v,f=(g=l,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,a=N(g);if(v){var i=N(this).constructor;c=Reflect.construct(a,arguments,i)}else c=a.apply(this,arguments);return X(this,c)});function l(){return function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}(this,l),f.call(this,".hs-accordion")}return T=l,(E=[{key:"init",value:function(){var c=this;document.addEventListener("click",function(a){var i=a.target,S=i.closest(c.selector),p=i.closest(".hs-accordion-toggle"),b=i.closest(".hs-accordion-group");S&&b&&p&&(c._hideAll(S),c.show(S))})}},{key:"show",value:function(c){var a=this;if(c.classList.contains("active"))return this.hide(c);c.classList.add("active");var i=c.querySelector(".hs-accordion-content");i.style.display="block",i.style.height=0,setTimeout(function(){i.style.height="".concat(i.scrollHeight,"px")}),this.afterTransition(i,function(){c.classList.contains("active")&&(i.style.height="",a._fireEvent("open",c),a._dispatch("open.hs.accordion",c,c))})}},{key:"hide",value:function(c){var a=this,i=c.querySelector(".hs-accordion-content");i.style.height="".concat(i.scrollHeight,"px"),setTimeout(function(){i.style.height=0}),this.afterTransition(i,function(){c.classList.contains("active")||(i.style.display="",a._fireEvent("hide",c),a._dispatch("hide.hs.accordion",c,c))}),c.classList.remove("active")}},{key:"_hideAll",value:function(c){var a=this,i=c.closest(".hs-accordion-group");i.hasAttribute("data-hs-accordion-always-open")||i.querySelectorAll(this.selector).forEach(function(S){c!==S&&a.hide(S)})}}])&&j(T.prototype,E),Object.defineProperty(T,"prototype",{writable:!1}),l}(O(765).Z);window.HSAccordion=new H,document.addEventListener("load",window.HSAccordion.init())},795:(s,h,O)=>{function k(T){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},k(T)}function j(T,E){(E==null||E>T.length)&&(E=T.length);for(var g=0,v=new Array(E);g<E;g++)v[g]=T[g];return v}function q(T,E){for(var g=0;g<E.length;g++){var v=E[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}function X(T,E){return X=Object.setPrototypeOf||function(g,v){return g.__proto__=v,g},X(T,E)}function N(T,E){if(E&&(k(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(T)}function H(T){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},H(T)}var M=function(T){(function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&X(a,i)})(c,T);var E,g,v,f,l=(v=c,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var a,i=H(v);if(f){var S=H(this).constructor;a=Reflect.construct(i,arguments,S)}else a=i.apply(this,arguments);return N(this,a)});function c(){return function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}(this,c),l.call(this,"[data-hs-collapse]")}return E=c,(g=[{key:"init",value:function(){var a=this;document.addEventListener("click",function(i){var S=i.target.closest(a.selector);if(S){var p=document.querySelectorAll(S.getAttribute("data-hs-collapse"));a.toggle(p)}})}},{key:"toggle",value:function(a){var i,S=this;a.length&&(i=a,function(p){if(Array.isArray(p))return j(p)}(i)||function(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}(i)||function(p,b){if(p){if(typeof p=="string")return j(p,b);var L=Object.prototype.toString.call(p).slice(8,-1);return L==="Object"&&p.constructor&&(L=p.constructor.name),L==="Map"||L==="Set"?Array.from(p):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?j(p,b):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).forEach(function(p){p.classList.contains("hidden")?S.show(p):S.hide(p)})}},{key:"show",value:function(a){var i=this;a.classList.add("open"),a.classList.remove("hidden"),a.style.height=0,document.querySelectorAll(this.selector).forEach(function(S){a.closest(S.getAttribute("data-hs-collapse"))&&S.classList.add("open")}),a.style.height="".concat(a.scrollHeight,"px"),this.afterTransition(a,function(){a.classList.contains("open")&&(a.style.height="",i._fireEvent("open",a),i._dispatch("open.hs.collapse",a,a))})}},{key:"hide",value:function(a){var i=this;a.style.height="".concat(a.scrollHeight,"px"),setTimeout(function(){a.style.height=0}),a.classList.remove("open"),this.afterTransition(a,function(){a.classList.contains("open")||(a.classList.add("hidden"),a.style.height=null,i._fireEvent("hide",a),i._dispatch("hide.hs.collapse",a,a),a.querySelectorAll(".hs-mega-menu-content.block").forEach(function(S){S.classList.remove("block"),S.classList.add("hidden")}))}),document.querySelectorAll(this.selector).forEach(function(S){a.closest(S.getAttribute("data-hs-collapse"))&&S.classList.remove("open")})}}])&&q(E.prototype,g),Object.defineProperty(E,"prototype",{writable:!1}),c}(O(765).Z);window.HSCollapse=new M,document.addEventListener("load",window.HSCollapse.init())},682:(s,h,O)=>{var k=O(714),j=O(765);let q={historyIndex:-1,addHistory:function(f){this.historyIndex=f},existsInHistory:function(f){return f>this.historyIndex},clearHistory:function(){this.historyIndex=-1}};function X(f){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},X(f)}function N(f){return function(l){if(Array.isArray(l))return H(l)}(f)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(f)||function(l,c){if(l){if(typeof l=="string")return H(l,c);var a=Object.prototype.toString.call(l).slice(8,-1);return a==="Object"&&l.constructor&&(a=l.constructor.name),a==="Map"||a==="Set"?Array.from(l):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?H(l,c):void 0}}(f)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H(f,l){(l==null||l>f.length)&&(l=f.length);for(var c=0,a=new Array(l);c<l;c++)a[c]=f[c];return a}function M(f,l){for(var c=0;c<l.length;c++){var a=l[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}function T(f,l){return T=Object.setPrototypeOf||function(c,a){return c.__proto__=a,c},T(f,l)}function E(f,l){if(l&&(X(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(f)}function g(f){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},g(f)}var v=function(f){(function(b,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(L&&L.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),L&&T(b,L)})(p,f);var l,c,a,i,S=(a=p,i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,L=g(a);if(i){var x=g(this).constructor;b=Reflect.construct(L,arguments,x)}else b=L.apply(this,arguments);return E(this,b)});function p(){var b;return function(L,x){if(!(L instanceof x))throw new TypeError("Cannot call a class as a function")}(this,p),(b=S.call(this,".hs-dropdown")).positions={top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-top":"right-start","right-bottom":"right-end",left:"left","left-top":"left-start","left-bottom":"left-end"},b.absoluteStrategyModifiers=function(L){return[{name:"applyStyles",fn:function(x){var _=(window.getComputedStyle(L).getPropertyValue("--strategy")||"absolute").replace(" ",""),W=(window.getComputedStyle(L).getPropertyValue("--adaptive")||"adaptive").replace(" ","");x.state.elements.popper.style.position=_,x.state.elements.popper.style.transform=W==="adaptive"?x.state.styles.popper.transform:null,x.state.elements.popper.style.top=null,x.state.elements.popper.style.bottom=null,x.state.elements.popper.style.left=null,x.state.elements.popper.style.right=null,x.state.elements.popper.style.margin=0}},{name:"computeStyles",options:{adaptive:!1}}]},b._history=q,b}return l=p,c=[{key:"init",value:function(){var b=this;document.addEventListener("click",function(L){var x=L.target,_=x.closest(b.selector),W=x.closest(".hs-dropdown-menu");if(_&&_.classList.contains("open")||b._closeOthers(_),W){var D=(window.getComputedStyle(_).getPropertyValue("--auto-close")||"").replace(" ","");if((D=="false"||D=="inside")&&!_.parentElement.closest(b.selector))return}_&&(_.classList.contains("open")?b.close(_):b.open(_))}),document.addEventListener("mousemove",function(L){var x=L.target,_=x.closest(b.selector);if(x.closest(".hs-dropdown-menu"),_){var W=(window.getComputedStyle(_).getPropertyValue("--trigger")||"click").replace(" ","");if(W!=="hover")return;_&&_.classList.contains("open")||b._closeOthers(_),W!=="hover"||_.classList.contains("open")||/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)||b._hover(x)}}),document.addEventListener("keydown",this._keyboardSupport.bind(this)),window.addEventListener("resize",function(){document.querySelectorAll(".hs-dropdown.open").forEach(function(L){b.close(L,!0)})})}},{key:"_closeOthers",value:function(){var b=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=document.querySelectorAll("".concat(this.selector,".open"));x.forEach(function(_){if(!L||L.closest(".hs-dropdown.open")!==_){var W=(window.getComputedStyle(_).getPropertyValue("--auto-close")||"").replace(" ","");W!="false"&&W!="outside"&&b.close(_)}})}},{key:"_hover",value:function(b){var L=this,x=b.closest(this.selector);this.open(x),document.addEventListener("mousemove",function _(W){W.target.closest(L.selector)&&W.target.closest(L.selector)!==x.parentElement.closest(L.selector)||(L.close(x),document.removeEventListener("mousemove",_,!0))},!0)}},{key:"close",value:function(b){var L=this,x=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=b.querySelector(".hs-dropdown-menu"),W=function(){b.classList.contains("open")||(_.classList.remove("block"),_.classList.add("hidden"),_.style.inset=null,_.style.position=null,b._popper&&b._popper.destroy())};x||this.afterTransition(b.querySelector("[data-hs-dropdown-transition]")||_,function(){W()}),_.style.margin=null,b.classList.remove("open"),x&&W(),this._fireEvent("close",b),this._dispatch("close.hs.dropdown",b,b);var D=_.querySelectorAll(".hs-dropdown.open");D.forEach(function(gt){L.close(gt,!0)})}},{key:"open",value:function(b){var L=b.querySelector(".hs-dropdown-menu"),x=(window.getComputedStyle(b).getPropertyValue("--placement")||"").replace(" ",""),_=(window.getComputedStyle(b).getPropertyValue("--strategy")||"fixed").replace(" ",""),W=((window.getComputedStyle(b).getPropertyValue("--adaptive")||"adaptive").replace(" ",""),parseInt((window.getComputedStyle(b).getPropertyValue("--offset")||"10").replace(" ","")));if(_!=="static"){b._popper&&b._popper.destroy();var D=(0,k.fi)(b,L,{placement:this.positions[x]||"bottom-start",strategy:_,modifiers:[].concat(N(_!=="fixed"?this.absoluteStrategyModifiers(b):[]),[{name:"offset",options:{offset:[0,W]}}])});b._popper=D}L.style.margin=null,L.classList.add("block"),L.classList.remove("hidden"),setTimeout(function(){b.classList.add("open")}),this._fireEvent("open",b),this._dispatch("open.hs.dropdown",b,b)}},{key:"_keyboardSupport",value:function(b){var L=document.querySelector(".hs-dropdown.open");if(L)return b.keyCode===27?(b.preventDefault(),this._esc(L)):b.keyCode===40?(b.preventDefault(),this._down(L)):b.keyCode===38?(b.preventDefault(),this._up(L)):b.keyCode===36?(b.preventDefault(),this._start(L)):b.keyCode===35?(b.preventDefault(),this._end(L)):void this._byChar(L,b.key)}},{key:"_esc",value:function(b){this.close(b)}},{key:"_up",value:function(b){var L=b.querySelector(".hs-dropdown-menu"),x=N(L.querySelectorAll("a")).reverse().filter(function(D){return!D.disabled}),_=L.querySelector("a:focus"),W=x.findIndex(function(D){return D===_});W+1<x.length&&W++,x[W].focus()}},{key:"_down",value:function(b){var L=b.querySelector(".hs-dropdown-menu"),x=N(L.querySelectorAll("a")).filter(function(D){return!D.disabled}),_=L.querySelector("a:focus"),W=x.findIndex(function(D){return D===_});W+1<x.length&&W++,x[W].focus()}},{key:"_start",value:function(b){var L=N(b.querySelector(".hs-dropdown-menu").querySelectorAll("a")).filter(function(x){return!x.disabled});L.length&&L[0].focus()}},{key:"_end",value:function(b){var L=N(b.querySelector(".hs-dropdown-menu").querySelectorAll("a")).reverse().filter(function(x){return!x.disabled});L.length&&L[0].focus()}},{key:"_byChar",value:function(b,L){var x=this,_=N(b.querySelector(".hs-dropdown-menu").querySelectorAll("a")),W=function(){return _.findIndex(function(gt,ot){return gt.innerText.toLowerCase().charAt(0)===L.toLowerCase()&&x._history.existsInHistory(ot)})},D=W();D===-1&&(this._history.clearHistory(),D=W()),D!==-1&&(_[D].focus(),this._history.addHistory(D))}},{key:"toggle",value:function(b){b.classList.contains("open")?this.close(b):this.open(b)}}],c&&M(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),p}(j.Z);window.HSDropdown=new v,document.addEventListener("load",window.HSDropdown.init())},284:(s,h,O)=>{function k(T){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},k(T)}function j(T,E){(E==null||E>T.length)&&(E=T.length);for(var g=0,v=new Array(E);g<E;g++)v[g]=T[g];return v}function q(T,E){for(var g=0;g<E.length;g++){var v=E[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}function X(T,E){return X=Object.setPrototypeOf||function(g,v){return g.__proto__=v,g},X(T,E)}function N(T,E){if(E&&(k(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(T)}function H(T){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},H(T)}var M=function(T){(function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&X(a,i)})(c,T);var E,g,v,f,l=(v=c,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var a,i=H(v);if(f){var S=H(this).constructor;a=Reflect.construct(i,arguments,S)}else a=i.apply(this,arguments);return N(this,a)});function c(){var a;return function(i,S){if(!(i instanceof S))throw new TypeError("Cannot call a class as a function")}(this,c),(a=l.call(this,"[data-hs-overlay]")).openNextOverlay=!1,a}return E=c,(g=[{key:"init",value:function(){var a=this;document.addEventListener("click",function(i){var S=i.target.closest(a.selector),p=i.target.closest("[data-hs-overlay-close]"),b=i.target.getAttribute("aria-overlay")==="true";return p?a.close(p.closest(".hs-overlay.open")):S?a.toggle(document.querySelector(S.getAttribute("data-hs-overlay"))):void(b&&a._onBackdropClick(i.target))}),document.addEventListener("keydown",function(i){if(i.keyCode===27){var S=document.querySelector(".hs-overlay.open");if(!S)return;setTimeout(function(){S.getAttribute("data-hs-overlay-keyboard")!=="false"&&a.close(S)})}})}},{key:"toggle",value:function(a){a&&(a.classList.contains("hidden")?this.open(a):this.close(a))}},{key:"open",value:function(a){var i=this;if(a){var S=document.querySelector(".hs-overlay.open"),p=this.getClassProperty(a,"--body-scroll","false")!=="true";if(S)return this.openNextOverlay=!0,this.close(S).then(function(){i.open(a),i.openNextOverlay=!1});p&&(document.body.style.overflow="hidden"),this._buildBackdrop(a),this._checkTimer(a),this._autoHide(a),a.classList.remove("hidden"),a.setAttribute("aria-overlay","true"),a.setAttribute("tabindex","-1"),setTimeout(function(){a.classList.contains("hidden")||(a.classList.add("open"),i._fireEvent("open",a),i._dispatch("open.hs.overlay",a,a),i._focusInput(a))},50)}}},{key:"close",value:function(a){var i=this;return new Promise(function(S){a&&(a.classList.remove("open"),a.removeAttribute("aria-overlay"),a.removeAttribute("tabindex","-1"),i.afterTransition(a,function(){a.classList.contains("open")||(a.classList.add("hidden"),i._destroyBackdrop(),i._fireEvent("close",a),i._dispatch("close.hs.overlay",a,a),document.body.style.overflow="",S(a))}))})}},{key:"_autoHide",value:function(a){var i=this,S=parseInt(this.getClassProperty(a,"--auto-hide","0"));S&&(a.autoHide=setTimeout(function(){i.close(a)},S))}},{key:"_checkTimer",value:function(a){a.autoHide&&(clearTimeout(a.autoHide),delete a.autoHide)}},{key:"_onBackdropClick",value:function(a){this.getClassProperty(a,"--overlay-backdrop","true")!=="static"&&this.close(a)}},{key:"_buildBackdrop",value:function(a){var i,S=this,p=a.getAttribute("data-hs-overlay-backdrop-container")||!1,b=document.createElement("div"),L="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop",x=function(D,gt){var ot=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!ot){if(Array.isArray(D)||(ot=function(ht,vt){if(ht){if(typeof ht=="string")return j(ht,vt);var Nt=Object.prototype.toString.call(ht).slice(8,-1);return Nt==="Object"&&ht.constructor&&(Nt=ht.constructor.name),Nt==="Map"||Nt==="Set"?Array.from(ht):Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt)?j(ht,vt):void 0}}(D))||gt&&D&&typeof D.length=="number"){ot&&(D=ot);var Mt=0,pt=function(){};return{s:pt,n:function(){return Mt>=D.length?{done:!0}:{done:!1,value:D[Mt++]}},e:function(ht){throw ht},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yt,jt=!0,pe=!1;return{s:function(){ot=ot.call(D)},n:function(){var ht=ot.next();return jt=ht.done,ht},e:function(ht){pe=!0,yt=ht},f:function(){try{jt||ot.return==null||ot.return()}finally{if(pe)throw yt}}}}(a.classList.values());try{for(x.s();!(i=x.n()).done;){var _=i.value;_.startsWith("hs-overlay-backdrop-open:")&&(L+=" ".concat(_))}}catch(D){x.e(D)}finally{x.f()}var W=this.getClassProperty(a,"--overlay-backdrop","true")!=="static";this.getClassProperty(a,"--overlay-backdrop","true")==="false"||(p&&((b=document.querySelector(p).cloneNode(!0)).classList.remove("hidden"),L=b.classList,b.classList=""),W&&b.addEventListener("click",function(){return S.close(a)},!0),b.setAttribute("data-hs-overlay-backdrop-template",""),document.body.appendChild(b),setTimeout(function(){b.classList=L}))}},{key:"_destroyBackdrop",value:function(){var a=document.querySelector("[data-hs-overlay-backdrop-template]");a&&(this.openNextOverlay&&(a.style.transitionDuration="".concat(1.8*parseFloat(window.getComputedStyle(a).transitionDuration.replace(/[^\d.-]/g,"")),"s")),a.classList.add("opacity-0"),this.afterTransition(a,function(){a.remove()}))}},{key:"_focusInput",value:function(a){var i=a.querySelector("[autofocus]");i&&i.focus()}}])&&q(E.prototype,g),Object.defineProperty(E,"prototype",{writable:!1}),c}(O(765).Z);window.HSOverlay=new M,document.addEventListener("load",window.HSOverlay.init())},181:(s,h,O)=>{function k(M){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},k(M)}function j(M,T){for(var E=0;E<T.length;E++){var g=T[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(M,g.key,g)}}function q(M,T){return q=Object.setPrototypeOf||function(E,g){return E.__proto__=g,E},q(M,T)}function X(M,T){if(T&&(k(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(M)}function N(M){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},N(M)}var H=function(M){(function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&q(c,a)})(l,M);var T,E,g,v,f=(g=l,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,a=N(g);if(v){var i=N(this).constructor;c=Reflect.construct(a,arguments,i)}else c=a.apply(this,arguments);return X(this,c)});function l(){return function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}(this,l),f.call(this,"[data-hs-remove-element]")}return T=l,(E=[{key:"init",value:function(){var c=this;document.addEventListener("click",function(a){var i=a.target.closest(c.selector);if(i){var S=document.querySelector(i.getAttribute("data-hs-remove-element"));S&&(S.classList.add("hs-removing"),c.afterTransition(S,function(){S.remove()}))}})}}])&&j(T.prototype,E),Object.defineProperty(T,"prototype",{writable:!1}),l}(O(765).Z);window.HSRemoveElement=new H,document.addEventListener("load",window.HSRemoveElement.init())},778:(s,h,O)=>{function k(M){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},k(M)}function j(M,T){for(var E=0;E<T.length;E++){var g=T[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(M,g.key,g)}}function q(M,T){return q=Object.setPrototypeOf||function(E,g){return E.__proto__=g,E},q(M,T)}function X(M,T){if(T&&(k(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(M)}function N(M){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},N(M)}var H=function(M){(function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&q(c,a)})(l,M);var T,E,g,v,f=(g=l,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,a=N(g);if(v){var i=N(this).constructor;c=Reflect.construct(a,arguments,i)}else c=a.apply(this,arguments);return X(this,c)});function l(){var c;return function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}(this,l),(c=f.call(this,"[data-hs-scrollspy] ")).activeSection=null,c}return T=l,(E=[{key:"init",value:function(){var c=this;document.querySelectorAll(this.selector).forEach(function(a){var i=document.querySelector(a.getAttribute("data-hs-scrollspy")),S=a.querySelectorAll("[href]"),p=i.children,b=a.getAttribute("data-hs-scrollspy-scrollable-parent")?document.querySelector(a.getAttribute("data-hs-scrollspy-scrollable-parent")):document;Array.from(p).forEach(function(L){L.getAttribute("id")&&b.addEventListener("scroll",function(x){return c._update({$scrollspyEl:a,$scrollspyContentEl:i,links:S,$sectionEl:L,sections:p,ev:x})})}),S.forEach(function(L){L.addEventListener("click",function(x){x.preventDefault(),L.getAttribute("href")!=="javascript:;"&&c._scrollTo({$scrollspyEl:a,$scrollableEl:b,$link:L})})})})}},{key:"_update",value:function(c){var a=c.ev,i=c.$scrollspyEl,S=(c.sections,c.links),p=c.$sectionEl,b=parseInt(this.getClassProperty(i,"--scrollspy-offset","0")),L=this.getClassProperty(p,"--scrollspy-offset")||b,x=a.target===document?0:parseInt(a.target.getBoundingClientRect().top),_=parseInt(p.getBoundingClientRect().top)-L-x,W=p.offsetHeight;if(_<=0&&_+W>0){if(this.activeSection===p)return;S.forEach(function(Mt){Mt.classList.remove("active")});var D=i.querySelector('[href="#'.concat(p.getAttribute("id"),'"]'));if(D){D.classList.add("active");var gt=D.closest("[data-hs-scrollspy-group]");if(gt){var ot=gt.querySelector("[href]");ot&&ot.classList.add("active")}}this.activeSection=p}}},{key:"_scrollTo",value:function(c){var a=c.$scrollspyEl,i=c.$scrollableEl,S=c.$link,p=document.querySelector(S.getAttribute("href")),b=parseInt(this.getClassProperty(a,"--scrollspy-offset","0")),L=this.getClassProperty(p,"--scrollspy-offset")||b,x=i===document?0:i.offsetTop,_=p.offsetTop-L-x,W=i===document?window:i;this._fireEvent("scroll",a),this._dispatch("scroll.hs.scrollspy",a,a),window.history.replaceState(null,null,S.getAttribute("href")),W.scrollTo({top:_,left:0,behavior:"smooth"})}}])&&j(T.prototype,E),Object.defineProperty(T,"prototype",{writable:!1}),l}(O(765).Z);window.HSScrollspy=new H,document.addEventListener("load",window.HSScrollspy.init())},51:(s,h,O)=>{function k(E){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},k(E)}function j(E){return function(g){if(Array.isArray(g))return q(g)}(E)||function(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}(E)||function(g,v){if(g){if(typeof g=="string")return q(g,v);var f=Object.prototype.toString.call(g).slice(8,-1);return f==="Object"&&g.constructor&&(f=g.constructor.name),f==="Map"||f==="Set"?Array.from(g):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?q(g,v):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(E,g){(g==null||g>E.length)&&(g=E.length);for(var v=0,f=new Array(g);v<g;v++)f[v]=E[v];return f}function X(E,g){for(var v=0;v<g.length;v++){var f=g[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(E,f.key,f)}}function N(E,g){return N=Object.setPrototypeOf||function(v,f){return v.__proto__=f,v},N(E,g)}function H(E,g){if(g&&(k(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(E)}function M(E){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},M(E)}var T=function(E){(function(i,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(S&&S.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),S&&N(i,S)})(a,E);var g,v,f,l,c=(f=a,l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var i,S=M(f);if(l){var p=M(this).constructor;i=Reflect.construct(S,arguments,p)}else i=S.apply(this,arguments);return H(this,i)});function a(){return function(i,S){if(!(i instanceof S))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this,"[data-hs-tab]")}return g=a,(v=[{key:"init",value:function(){var i=this;document.addEventListener("keydown",this._keyboardSupport.bind(this)),document.addEventListener("click",function(S){var p=S.target.closest(i.selector);p&&i.open(p)}),document.querySelectorAll("[hs-data-tab-select]").forEach(function(S){var p=document.querySelector(S.getAttribute("hs-data-tab-select"));p&&p.addEventListener("change",function(b){var L=document.querySelector('[data-hs-tab="'.concat(b.target.value,'"]'));L&&i.open(L)})})}},{key:"open",value:function(i){var S=document.querySelector(i.getAttribute("data-hs-tab")),p=j(i.parentElement.children),b=j(S.parentElement.children),L=i.closest("[hs-data-tab-select]"),x=L?document.querySelector(L.getAttribute("data-hs-tab")):null;p.forEach(function(_){return _.classList.remove("active")}),b.forEach(function(_){return _.classList.add("hidden")}),i.classList.add("active"),S.classList.remove("hidden"),this._fireEvent("change",i),this._dispatch("change.hs.tab",i,i),x&&(x.value=i.getAttribute("data-hs-tab"))}},{key:"_keyboardSupport",value:function(i){var S=i.target.closest(this.selector);if(S){var p=S.closest('[role="tablist"]').getAttribute("data-hs-tabs-vertical")==="true";return(p?i.keyCode===38:i.keyCode===37)?(i.preventDefault(),this._left(S)):(p?i.keyCode===40:i.keyCode===39)?(i.preventDefault(),this._right(S)):i.keyCode===36?(i.preventDefault(),this._start(S)):i.keyCode===35?(i.preventDefault(),this._end(S)):void 0}}},{key:"_right",value:function(i){var S=i.closest('[role="tablist"]');if(S){var p=j(S.querySelectorAll(this.selector)).filter(function(x){return!x.disabled}),b=S.querySelector("button:focus"),L=p.findIndex(function(x){return x===b});L+1<p.length?L++:L=0,p[L].focus(),this.open(p[L])}}},{key:"_left",value:function(i){var S=i.closest('[role="tablist"]');if(S){var p=j(S.querySelectorAll(this.selector)).filter(function(x){return!x.disabled}).reverse(),b=S.querySelector("button:focus"),L=p.findIndex(function(x){return x===b});L+1<p.length?L++:L=0,p[L].focus(),this.open(p[L])}}},{key:"_start",value:function(i){var S=i.closest('[role="tablist"]');if(S){var p=j(S.querySelectorAll(this.selector)).filter(function(b){return!b.disabled});p.length&&(p[0].focus(),this.open(p[0]))}}},{key:"_end",value:function(i){var S=i.closest('[role="tablist"]');if(S){var p=j(S.querySelectorAll(this.selector)).reverse().filter(function(b){return!b.disabled});p.length&&(p[0].focus(),this.open(p[0]))}}}])&&X(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),a}(O(765).Z);window.HSTabs=new T,document.addEventListener("load",window.HSTabs.init())},185:(s,h,O)=>{var k=O(765),j=O(714);function q(E){return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},q(E)}function X(E,g){for(var v=0;v<g.length;v++){var f=g[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(E,f.key,f)}}function N(E,g){return N=Object.setPrototypeOf||function(v,f){return v.__proto__=f,v},N(E,g)}function H(E,g){if(g&&(q(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(E)}function M(E){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},M(E)}var T=function(E){(function(i,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(S&&S.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),S&&N(i,S)})(a,E);var g,v,f,l,c=(f=a,l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var i,S=M(f);if(l){var p=M(this).constructor;i=Reflect.construct(S,arguments,p)}else i=S.apply(this,arguments);return H(this,i)});function a(){return function(i,S){if(!(i instanceof S))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this,".hs-tooltip")}return g=a,(v=[{key:"init",value:function(){var i=this;document.addEventListener("click",function(S){var p=S.target.closest(i.selector);p&&i.getClassProperty(p,"--trigger")==="focus"&&i._focus(p),p&&i.getClassProperty(p,"--trigger")==="click"&&i._click(p)}),document.addEventListener("mousemove",function(S){var p=S.target.closest(i.selector);p&&i.getClassProperty(p,"--trigger")!=="focus"&&i.getClassProperty(p,"--trigger")!=="click"&&i._hover(p)})}},{key:"_hover",value:function(i){var S=this;if(!i.classList.contains("show")){var p=i.querySelector(".hs-tooltip-toggle"),b=i.querySelector(".hs-tooltip-content"),L=this.getClassProperty(i,"--placement");(0,j.fi)(p,b,{placement:L||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(i),i.addEventListener("mouseleave",function x(_){_.relatedTarget.closest(S.selector)&&_.relatedTarget.closest(S.selector)==i||(S.hide(i),i.removeEventListener("mouseleave",x,!0))},!0)}}},{key:"_focus",value:function(i){var S=this,p=i.querySelector(".hs-tooltip-toggle"),b=i.querySelector(".hs-tooltip-content"),L=this.getClassProperty(i,"--placement"),x=this.getClassProperty(i,"--strategy");(0,j.fi)(p,b,{placement:L||"top",strategy:x||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(i),i.addEventListener("blur",function _(){S.hide(i),i.removeEventListener("blur",_,!0)},!0)}},{key:"_click",value:function(i){var S=this;if(!i.classList.contains("show")){var p=i.querySelector(".hs-tooltip-toggle"),b=i.querySelector(".hs-tooltip-content"),L=this.getClassProperty(i,"--placement"),x=this.getClassProperty(i,"--strategy");(0,j.fi)(p,b,{placement:L||"top",strategy:x||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(i);var _=function W(D){setTimeout(function(){S.hide(i),i.removeEventListener("click",W,!0),i.removeEventListener("blur",W,!0)})};i.addEventListener("blur",_,!0),i.addEventListener("click",_,!0)}}},{key:"show",value:function(i){var S=this;i.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(function(){i.classList.add("show"),S._fireEvent("show",i),S._dispatch("show.hs.tooltip",i,i)})}},{key:"hide",value:function(i){var S=i.querySelector(".hs-tooltip-content");i.classList.remove("show"),this._fireEvent("hide",i),this._dispatch("hide.hs.tooltip",i,i),this.afterTransition(S,function(){i.classList.contains("show")||S.classList.add("hidden")})}}])&&X(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),a}(k.Z);window.HSTooltip=new T,document.addEventListener("load",window.HSTooltip.init())},765:(s,h,O)=>{function k(q,X){for(var N=0;N<X.length;N++){var H=X[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}}O.d(h,{Z:()=>j});var j=function(){function q(H,M){(function(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")})(this,q),this.$collection=[],this.selector=H,this.config=M,this.events={}}var X,N;return X=q,N=[{key:"_fireEvent",value:function(H){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.events.hasOwnProperty(H)&&this.events[H](M)}},{key:"_dispatch",value:function(H,M){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,E=new CustomEvent(H,{detail:{payload:T},bubbles:!0,cancelable:!0,composed:!1});M.dispatchEvent(E)}},{key:"on",value:function(H,M){this.events[H]=M}},{key:"afterTransition",value:function(H,M){window.getComputedStyle(H,null).getPropertyValue("transition")!=="all 0s ease 0s"?H.addEventListener("transitionend",function T(){M(),H.removeEventListener("transitionend",T,!0)},!0):M()}},{key:"getClassProperty",value:function(H,M){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",E=(window.getComputedStyle(H).getPropertyValue(M)||T).replace(" ","");return E}}],N&&k(X.prototype,N),Object.defineProperty(X,"prototype",{writable:!1}),q}()},714:(s,h,O)=>{function k(y){if(y==null)return window;if(y.toString()!=="[object Window]"){var m=y.ownerDocument;return m&&m.defaultView||window}return y}function j(y){return y instanceof k(y).Element||y instanceof Element}function q(y){return y instanceof k(y).HTMLElement||y instanceof HTMLElement}function X(y){return typeof ShadowRoot<"u"&&(y instanceof k(y).ShadowRoot||y instanceof ShadowRoot)}O.d(h,{fi:()=>Yr});var N=Math.max,H=Math.min,M=Math.round;function T(y,m){m===void 0&&(m=!1);var w=y.getBoundingClientRect(),C=1,B=1;if(q(y)&&m){var F=y.offsetHeight,P=y.offsetWidth;P>0&&(C=M(w.width)/P||1),F>0&&(B=M(w.height)/F||1)}return{width:w.width/C,height:w.height/B,top:w.top/B,right:w.right/C,bottom:w.bottom/B,left:w.left/C,x:w.left/C,y:w.top/B}}function E(y){var m=k(y);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function g(y){return y?(y.nodeName||"").toLowerCase():null}function v(y){return((j(y)?y.ownerDocument:y.document)||window.document).documentElement}function f(y){return T(v(y)).left+E(y).scrollLeft}function l(y){return k(y).getComputedStyle(y)}function c(y){var m=l(y),w=m.overflow,C=m.overflowX,B=m.overflowY;return/auto|scroll|overlay|hidden/.test(w+B+C)}function a(y,m,w){w===void 0&&(w=!1);var C,B,F=q(m),P=q(m)&&function(K){var mt=K.getBoundingClientRect(),tt=M(mt.width)/K.offsetWidth||1,it=M(mt.height)/K.offsetHeight||1;return tt!==1||it!==1}(m),$=v(m),U=T(y,P),z={scrollLeft:0,scrollTop:0},J={x:0,y:0};return(F||!F&&!w)&&((g(m)!=="body"||c($))&&(z=(C=m)!==k(C)&&q(C)?{scrollLeft:(B=C).scrollLeft,scrollTop:B.scrollTop}:E(C)),q(m)?((J=T(m,!0)).x+=m.clientLeft,J.y+=m.clientTop):$&&(J.x=f($))),{x:U.left+z.scrollLeft-J.x,y:U.top+z.scrollTop-J.y,width:U.width,height:U.height}}function i(y){var m=T(y),w=y.offsetWidth,C=y.offsetHeight;return Math.abs(m.width-w)<=1&&(w=m.width),Math.abs(m.height-C)<=1&&(C=m.height),{x:y.offsetLeft,y:y.offsetTop,width:w,height:C}}function S(y){return g(y)==="html"?y:y.assignedSlot||y.parentNode||(X(y)?y.host:null)||v(y)}function p(y){return["html","body","#document"].indexOf(g(y))>=0?y.ownerDocument.body:q(y)&&c(y)?y:p(S(y))}function b(y,m){var w;m===void 0&&(m=[]);var C=p(y),B=C===((w=y.ownerDocument)==null?void 0:w.body),F=k(C),P=B?[F].concat(F.visualViewport||[],c(C)?C:[]):C,$=m.concat(P);return B?$:$.concat(b(S(P)))}function L(y){return["table","td","th"].indexOf(g(y))>=0}function x(y){return q(y)&&l(y).position!=="fixed"?y.offsetParent:null}function _(y){for(var m=k(y),w=x(y);w&&L(w)&&l(w).position==="static";)w=x(w);return w&&(g(w)==="html"||g(w)==="body"&&l(w).position==="static")?m:w||function(C){var B=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;if(navigator.userAgent.indexOf("Trident")!==-1&&q(C)&&l(C).position==="fixed")return null;for(var F=S(C);q(F)&&["html","body"].indexOf(g(F))<0;){var P=l(F);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||B&&P.willChange==="filter"||B&&P.filter&&P.filter!=="none")return F;F=F.parentNode}return null}(y)||m}var W="top",D="bottom",gt="right",ot="left",Mt="auto",pt=[W,D,gt,ot],yt="start",jt="end",pe="viewport",ht="popper",vt=pt.reduce(function(y,m){return y.concat([m+"-"+yt,m+"-"+jt])},[]),Nt=[].concat(pt,[Mt]).reduce(function(y,m){return y.concat([m,m+"-"+yt,m+"-"+jt])},[]),Zr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Re(y){var m=new Map,w=new Set,C=[];function B(F){w.add(F.name),[].concat(F.requires||[],F.requiresIfExists||[]).forEach(function(P){if(!w.has(P)){var $=m.get(P);$&&B($)}}),C.push(F)}return y.forEach(function(F){m.set(F.name,F)}),y.forEach(function(F){w.has(F.name)||B(F)}),C}var mr={placement:"bottom",modifiers:[],strategy:"absolute"};function gr(){for(var y=arguments.length,m=new Array(y),w=0;w<y;w++)m[w]=arguments[w];return!m.some(function(C){return!(C&&typeof C.getBoundingClientRect=="function")})}function Zt(y){y===void 0&&(y={});var m=y,w=m.defaultModifiers,C=w===void 0?[]:w,B=m.defaultOptions,F=B===void 0?mr:B;return function(P,$,U){U===void 0&&(U=F);var z,J,K={placement:"bottom",orderedModifiers:[],options:Object.assign({},mr,F),modifiersData:{},elements:{reference:P,popper:$},attributes:{},styles:{}},mt=[],tt=!1,it={state:K,setOptions:function(G){var bt=typeof G=="function"?G(K.options):G;st(),K.options=Object.assign({},F,K.options,bt),K.scrollParents={reference:j(P)?b(P):P.contextElement?b(P.contextElement):[],popper:b($)};var ut,rt,at=function(Y){var Q=Re(Y);return Zr.reduce(function(et,nt){return et.concat(Q.filter(function(ct){return ct.phase===nt}))},[])}((ut=[].concat(C,K.options.modifiers),rt=ut.reduce(function(Y,Q){var et=Y[Q.name];return Y[Q.name]=et?Object.assign({},et,Q,{options:Object.assign({},et.options,Q.options),data:Object.assign({},et.data,Q.data)}):Q,Y},{}),Object.keys(rt).map(function(Y){return rt[Y]})));return K.orderedModifiers=at.filter(function(Y){return Y.enabled}),K.orderedModifiers.forEach(function(Y){var Q=Y.name,et=Y.options,nt=et===void 0?{}:et,ct=Y.effect;if(typeof ct=="function"){var wt=ct({state:K,name:Q,instance:it,options:nt});mt.push(wt||function(){})}}),it.update()},forceUpdate:function(){if(!tt){var G=K.elements,bt=G.reference,ut=G.popper;if(gr(bt,ut)){K.rects={reference:a(bt,_(ut),K.options.strategy==="fixed"),popper:i(ut)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(ct){return K.modifiersData[ct.name]=Object.assign({},ct.data)});for(var rt=0;rt<K.orderedModifiers.length;rt++)if(K.reset!==!0){var at=K.orderedModifiers[rt],Y=at.fn,Q=at.options,et=Q===void 0?{}:Q,nt=at.name;typeof Y=="function"&&(K=Y({state:K,options:et,name:nt,instance:it})||K)}else K.reset=!1,rt=-1}}},update:(z=function(){return new Promise(function(G){it.forceUpdate(),G(K)})},function(){return J||(J=new Promise(function(G){Promise.resolve().then(function(){J=void 0,G(z())})})),J}),destroy:function(){st(),tt=!0}};if(!gr(P,$))return it;function st(){mt.forEach(function(G){return G()}),mt=[]}return it.setOptions(U).then(function(G){!tt&&U.onFirstUpdate&&U.onFirstUpdate(G)}),it}}var Dt={passive:!0};function Vt(y){return y.split("-")[0]}function re(y){return y.split("-")[1]}function je(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function Ne(y){var m,w=y.reference,C=y.element,B=y.placement,F=B?Vt(B):null,P=B?re(B):null,$=w.x+w.width/2-C.width/2,U=w.y+w.height/2-C.height/2;switch(F){case W:m={x:$,y:w.y-C.height};break;case D:m={x:$,y:w.y+w.height};break;case gt:m={x:w.x+w.width,y:U};break;case ot:m={x:w.x-C.width,y:U};break;default:m={x:w.x,y:w.y}}var z=F?je(F):null;if(z!=null){var J=z==="y"?"height":"width";switch(P){case yt:m[z]=m[z]-(w[J]/2-C[J]/2);break;case jt:m[z]=m[z]+(w[J]/2-C[J]/2)}}return m}var yr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ee(y){var m,w=y.popper,C=y.popperRect,B=y.placement,F=y.variation,P=y.offsets,$=y.position,U=y.gpuAcceleration,z=y.adaptive,J=y.roundOffsets,K=y.isFixed,mt=P.x,tt=mt===void 0?0:mt,it=P.y,st=it===void 0?0:it,G=typeof J=="function"?J({x:tt,y:st}):{x:tt,y:st};tt=G.x,st=G.y;var bt=P.hasOwnProperty("x"),ut=P.hasOwnProperty("y"),rt=ot,at=W,Y=window;if(z){var Q=_(w),et="clientHeight",nt="clientWidth";Q===k(w)&&l(Q=v(w)).position!=="static"&&$==="absolute"&&(et="scrollHeight",nt="scrollWidth"),Q=Q,(B===W||(B===ot||B===gt)&&F===jt)&&(at=D,st-=(K&&Y.visualViewport?Y.visualViewport.height:Q[et])-C.height,st*=U?1:-1),B!==ot&&(B!==W&&B!==D||F!==jt)||(rt=gt,tt-=(K&&Y.visualViewport?Y.visualViewport.width:Q[nt])-C.width,tt*=U?1:-1)}var ct,wt=Object.assign({position:$},z&&yr),St=J===!0?function(Rt){var Kt=Rt.x,Xt=Rt.y,Lt=window.devicePixelRatio||1;return{x:M(Kt*Lt)/Lt||0,y:M(Xt*Lt)/Lt||0}}({x:tt,y:st}):{x:tt,y:st};return tt=St.x,st=St.y,U?Object.assign({},wt,((ct={})[at]=ut?"0":"",ct[rt]=bt?"0":"",ct.transform=(Y.devicePixelRatio||1)<=1?"translate("+tt+"px, "+st+"px)":"translate3d("+tt+"px, "+st+"px, 0)",ct)):Object.assign({},wt,((m={})[at]=ut?st+"px":"",m[rt]=bt?tt+"px":"",m.transform="",m))}var ne={left:"right",right:"left",bottom:"top",top:"bottom"};function xe(y){return y.replace(/left|right|bottom|top/g,function(m){return ne[m]})}var Gr={start:"end",end:"start"};function He(y){return y.replace(/start|end/g,function(m){return Gr[m]})}function $e(y,m){var w=m.getRootNode&&m.getRootNode();if(y.contains(m))return!0;if(w&&X(w)){var C=m;do{if(C&&y.isSameNode(C))return!0;C=C.parentNode||C.host}while(C)}return!1}function Wt(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function Ve(y,m){return m===pe?Wt(function(w){var C=k(w),B=v(w),F=C.visualViewport,P=B.clientWidth,$=B.clientHeight,U=0,z=0;return F&&(P=F.width,$=F.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(U=F.offsetLeft,z=F.offsetTop)),{width:P,height:$,x:U+f(w),y:z}}(y)):j(m)?function(w){var C=T(w);return C.top=C.top+w.clientTop,C.left=C.left+w.clientLeft,C.bottom=C.top+w.clientHeight,C.right=C.left+w.clientWidth,C.width=w.clientWidth,C.height=w.clientHeight,C.x=C.left,C.y=C.top,C}(m):Wt(function(w){var C,B=v(w),F=E(w),P=(C=w.ownerDocument)==null?void 0:C.body,$=N(B.scrollWidth,B.clientWidth,P?P.scrollWidth:0,P?P.clientWidth:0),U=N(B.scrollHeight,B.clientHeight,P?P.scrollHeight:0,P?P.clientHeight:0),z=-F.scrollLeft+f(w),J=-F.scrollTop;return l(P||B).direction==="rtl"&&(z+=N(B.clientWidth,P?P.clientWidth:0)-$),{width:$,height:U,x:z,y:J}}(v(y)))}function vr(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function Ut(y,m){return m.reduce(function(w,C){return w[C]=y,w},{})}function Se(y,m){m===void 0&&(m={});var w=m,C=w.placement,B=C===void 0?y.placement:C,F=w.boundary,P=F===void 0?"clippingParents":F,$=w.rootBoundary,U=$===void 0?pe:$,z=w.elementContext,J=z===void 0?ht:z,K=w.altBoundary,mt=K!==void 0&&K,tt=w.padding,it=tt===void 0?0:tt,st=vr(typeof it!="number"?it:Ut(it,pt)),G=J===ht?"reference":ht,bt=y.rects.popper,ut=y.elements[mt?G:J],rt=function(St,Rt,Kt){var Xt=Rt==="clippingParents"?function(dt){var ie=b(S(dt)),_t=["absolute","fixed"].indexOf(l(dt).position)>=0&&q(dt)?_(dt):dt;return j(_t)?ie.filter(function(kt){return j(kt)&&$e(kt,_t)&&g(kt)!=="body"}):[]}(St):[].concat(Rt),Lt=[].concat(Xt,[Kt]),Ot=Lt[0],At=Lt.reduce(function(dt,ie){var _t=Ve(St,ie);return dt.top=N(_t.top,dt.top),dt.right=H(_t.right,dt.right),dt.bottom=H(_t.bottom,dt.bottom),dt.left=N(_t.left,dt.left),dt},Ve(St,Ot));return At.width=At.right-At.left,At.height=At.bottom-At.top,At.x=At.left,At.y=At.top,At}(j(ut)?ut:ut.contextElement||v(y.elements.popper),P,U),at=T(y.elements.reference),Y=Ne({reference:at,element:bt,strategy:"absolute",placement:B}),Q=Wt(Object.assign({},bt,Y)),et=J===ht?Q:at,nt={top:rt.top-et.top+st.top,bottom:et.bottom-rt.bottom+st.bottom,left:rt.left-et.left+st.left,right:et.right-rt.right+st.right},ct=y.modifiersData.offset;if(J===ht&&ct){var wt=ct[B];Object.keys(nt).forEach(function(St){var Rt=[gt,D].indexOf(St)>=0?1:-1,Kt=[W,D].indexOf(St)>=0?"y":"x";nt[St]+=wt[Kt]*Rt})}return nt}function Ae(y,m,w){return N(y,H(m,w))}function br(y,m,w){return w===void 0&&(w={x:0,y:0}),{top:y.top-m.height-w.y,right:y.right-m.width+w.x,bottom:y.bottom-m.height+w.y,left:y.left-m.width-w.x}}function wr(y){return[W,gt,D,ot].some(function(m){return y[m]>=0})}var Yr=Zt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(y){var m=y.state,w=y.instance,C=y.options,B=C.scroll,F=B===void 0||B,P=C.resize,$=P===void 0||P,U=k(m.elements.popper),z=[].concat(m.scrollParents.reference,m.scrollParents.popper);return F&&z.forEach(function(J){J.addEventListener("scroll",w.update,Dt)}),$&&U.addEventListener("resize",w.update,Dt),function(){F&&z.forEach(function(J){J.removeEventListener("scroll",w.update,Dt)}),$&&U.removeEventListener("resize",w.update,Dt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(y){var m=y.state,w=y.name;m.modifiersData[w]=Ne({reference:m.rects.reference,element:m.rects.popper,strategy:"absolute",placement:m.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(y){var m=y.state,w=y.options,C=w.gpuAcceleration,B=C===void 0||C,F=w.adaptive,P=F===void 0||F,$=w.roundOffsets,U=$===void 0||$,z={placement:Vt(m.placement),variation:re(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:B,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,Ee(Object.assign({},z,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:P,roundOffsets:U})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,Ee(Object.assign({},z,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:U})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(y){var m=y.state;Object.keys(m.elements).forEach(function(w){var C=m.styles[w]||{},B=m.attributes[w]||{},F=m.elements[w];q(F)&&g(F)&&(Object.assign(F.style,C),Object.keys(B).forEach(function(P){var $=B[P];$===!1?F.removeAttribute(P):F.setAttribute(P,$===!0?"":$)}))})},effect:function(y){var m=y.state,w={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,w.popper),m.styles=w,m.elements.arrow&&Object.assign(m.elements.arrow.style,w.arrow),function(){Object.keys(m.elements).forEach(function(C){var B=m.elements[C],F=m.attributes[C]||{},P=Object.keys(m.styles.hasOwnProperty(C)?m.styles[C]:w[C]).reduce(function($,U){return $[U]="",$},{});q(B)&&g(B)&&(Object.assign(B.style,P),Object.keys(F).forEach(function($){B.removeAttribute($)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(y){var m=y.state,w=y.options,C=y.name,B=w.offset,F=B===void 0?[0,0]:B,P=Nt.reduce(function(J,K){return J[K]=function(mt,tt,it){var st=Vt(mt),G=[ot,W].indexOf(st)>=0?-1:1,bt=typeof it=="function"?it(Object.assign({},tt,{placement:mt})):it,ut=bt[0],rt=bt[1];return ut=ut||0,rt=(rt||0)*G,[ot,gt].indexOf(st)>=0?{x:rt,y:ut}:{x:ut,y:rt}}(K,m.rects,F),J},{}),$=P[m.placement],U=$.x,z=$.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=U,m.modifiersData.popperOffsets.y+=z),m.modifiersData[C]=P}},{name:"flip",enabled:!0,phase:"main",fn:function(y){var m=y.state,w=y.options,C=y.name;if(!m.modifiersData[C]._skip){for(var B=w.mainAxis,F=B===void 0||B,P=w.altAxis,$=P===void 0||P,U=w.fallbackPlacements,z=w.padding,J=w.boundary,K=w.rootBoundary,mt=w.altBoundary,tt=w.flipVariations,it=tt===void 0||tt,st=w.allowedAutoPlacements,G=m.options.placement,bt=Vt(G),ut=U||(bt!==G&&it?function(kt){if(Vt(kt)===Mt)return[];var o=xe(kt);return[He(kt),o,He(o)]}(G):[xe(G)]),rt=[G].concat(ut).reduce(function(kt,o){return kt.concat(Vt(o)===Mt?function(u,d){d===void 0&&(d={});var A=d,R=A.placement,I=A.boundary,V=A.rootBoundary,Z=A.padding,qt=A.flipVariations,ft=A.allowedAutoPlacements,xt=ft===void 0?Nt:ft,zt=re(R),Ft=zt?qt?vt:vt.filter(function(Ht){return re(Ht)===zt}):pt,Gt=Ft.filter(function(Ht){return xt.indexOf(Ht)>=0});Gt.length===0&&(Gt=Ft);var se=Gt.reduce(function(Ht,Ct){return Ht[Ct]=Se(u,{placement:Ct,boundary:I,rootBoundary:V,padding:Z})[Vt(Ct)],Ht},{});return Object.keys(se).sort(function(Ht,Ct){return se[Ht]-se[Ct]})}(m,{placement:o,boundary:J,rootBoundary:K,padding:z,flipVariations:it,allowedAutoPlacements:st}):o)},[]),at=m.rects.reference,Y=m.rects.popper,Q=new Map,et=!0,nt=rt[0],ct=0;ct<rt.length;ct++){var wt=rt[ct],St=Vt(wt),Rt=re(wt)===yt,Kt=[W,D].indexOf(St)>=0,Xt=Kt?"width":"height",Lt=Se(m,{placement:wt,boundary:J,rootBoundary:K,altBoundary:mt,padding:z}),Ot=Kt?Rt?gt:ot:Rt?D:W;at[Xt]>Y[Xt]&&(Ot=xe(Ot));var At=xe(Ot),dt=[];if(F&&dt.push(Lt[St]<=0),$&&dt.push(Lt[Ot]<=0,Lt[At]<=0),dt.every(function(kt){return kt})){nt=wt,et=!1;break}Q.set(wt,dt)}if(et)for(var ie=function(kt){var o=rt.find(function(u){var d=Q.get(u);if(d)return d.slice(0,kt).every(function(A){return A})});if(o)return nt=o,"break"},_t=it?3:1;_t>0&&ie(_t)!=="break";_t--);m.placement!==nt&&(m.modifiersData[C]._skip=!0,m.placement=nt,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(y){var m=y.state,w=y.options,C=y.name,B=w.mainAxis,F=B===void 0||B,P=w.altAxis,$=P!==void 0&&P,U=w.boundary,z=w.rootBoundary,J=w.altBoundary,K=w.padding,mt=w.tether,tt=mt===void 0||mt,it=w.tetherOffset,st=it===void 0?0:it,G=Se(m,{boundary:U,rootBoundary:z,padding:K,altBoundary:J}),bt=Vt(m.placement),ut=re(m.placement),rt=!ut,at=je(bt),Y=at==="x"?"y":"x",Q=m.modifiersData.popperOffsets,et=m.rects.reference,nt=m.rects.popper,ct=typeof st=="function"?st(Object.assign({},m.rects,{placement:m.placement})):st,wt=typeof ct=="number"?{mainAxis:ct,altAxis:ct}:Object.assign({mainAxis:0,altAxis:0},ct),St=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,Rt={x:0,y:0};if(Q){if(F){var Kt,Xt=at==="y"?W:ot,Lt=at==="y"?D:gt,Ot=at==="y"?"height":"width",At=Q[at],dt=At+G[Xt],ie=At-G[Lt],_t=tt?-nt[Ot]/2:0,kt=ut===yt?et[Ot]:nt[Ot],o=ut===yt?-nt[Ot]:-et[Ot],u=m.elements.arrow,d=tt&&u?i(u):{width:0,height:0},A=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},R=A[Xt],I=A[Lt],V=Ae(0,et[Ot],d[Ot]),Z=rt?et[Ot]/2-_t-V-R-wt.mainAxis:kt-V-R-wt.mainAxis,qt=rt?-et[Ot]/2+_t+V+I+wt.mainAxis:o+V+I+wt.mainAxis,ft=m.elements.arrow&&_(m.elements.arrow),xt=ft?at==="y"?ft.clientTop||0:ft.clientLeft||0:0,zt=(Kt=St?.[at])!=null?Kt:0,Ft=At+qt-zt,Gt=Ae(tt?H(dt,At+Z-zt-xt):dt,At,tt?N(ie,Ft):ie);Q[at]=Gt,Rt[at]=Gt-At}if($){var se,Ht=at==="x"?W:ot,Ct=at==="x"?D:gt,Yt=Q[Y],Tt=Y==="y"?"height":"width",Pe=Yt+G[Ht],ae=Yt-G[Ct],We=[W,ot].indexOf(bt)!==-1,bi=(se=St?.[Y])!=null?se:0,wi=We?Pe:Yt-et[Tt]-nt[Tt]-bi+wt.altAxis,Ei=We?Yt+et[Tt]+nt[Tt]-bi-wt.altAxis:ae,Si=tt&&We?function(ms,gs,Qr){var Ai=Ae(ms,gs,Qr);return Ai>Qr?Qr:Ai}(wi,Yt,Ei):Ae(tt?wi:Pe,Yt,tt?Ei:ae);Q[Y]=Si,Rt[Y]=Si-Yt}m.modifiersData[C]=Rt}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(y){var m,w=y.state,C=y.name,B=y.options,F=w.elements.arrow,P=w.modifiersData.popperOffsets,$=Vt(w.placement),U=je($),z=[ot,gt].indexOf($)>=0?"height":"width";if(F&&P){var J=function(nt,ct){return vr(typeof(nt=typeof nt=="function"?nt(Object.assign({},ct.rects,{placement:ct.placement})):nt)!="number"?nt:Ut(nt,pt))}(B.padding,w),K=i(F),mt=U==="y"?W:ot,tt=U==="y"?D:gt,it=w.rects.reference[z]+w.rects.reference[U]-P[U]-w.rects.popper[z],st=P[U]-w.rects.reference[U],G=_(F),bt=G?U==="y"?G.clientHeight||0:G.clientWidth||0:0,ut=it/2-st/2,rt=J[mt],at=bt-K[z]-J[tt],Y=bt/2-K[z]/2+ut,Q=Ae(rt,Y,at),et=U;w.modifiersData[C]=((m={})[et]=Q,m.centerOffset=Q-Y,m)}},effect:function(y){var m=y.state,w=y.options.element,C=w===void 0?"[data-popper-arrow]":w;C!=null&&(typeof C!="string"||(C=m.elements.popper.querySelector(C)))&&$e(m.elements.popper,C)&&(m.elements.arrow=C)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(y){var m=y.state,w=y.name,C=m.rects.reference,B=m.rects.popper,F=m.modifiersData.preventOverflow,P=Se(m,{elementContext:"reference"}),$=Se(m,{altBoundary:!0}),U=br(P,C),z=br($,B,F),J=wr(U),K=wr(z);m.modifiersData[w]={referenceClippingOffsets:U,popperEscapeOffsets:z,isReferenceHidden:J,hasPopperEscaped:K},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":J,"data-popper-escaped":K})}}]})}},t={};function e(s){var h=t[s];if(h!==void 0)return h.exports;var O=t[s]={exports:{}};return r[s](O,O.exports,e),O.exports}e.d=(s,h)=>{for(var O in h)e.o(h,O)&&!e.o(s,O)&&Object.defineProperty(s,O,{enumerable:!0,get:h[O]})},e.o=(s,h)=>Object.prototype.hasOwnProperty.call(s,h),e.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var n={};return e.r(n),e(661),e(795),e(682),e(284),e(181),e(778),e(51),e(185),n})()})});(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let r=HTMLElement,t={HTMLElement:function(){return Reflect.construct(r,[],this.constructor)}};window.HTMLElement=t.HTMLElement,HTMLElement.prototype=r.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,r)})();(function(r){if(typeof r.requestSubmit=="function")return;r.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,s){n instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||e(TypeError,"The specified element is not a submit button"),n.form==s||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}function e(n,s,h){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",h)}})(HTMLFormElement.prototype);var Ri=new WeakMap;function Cs(r){let t=r instanceof Element?r:r instanceof Node?r.parentElement:null,e=t?t.closest("input, button"):null;return e?.type=="submit"?e:null}function Ls(r){let t=Cs(r.target);t&&t.form&&Ri.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let r=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))r=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Ls,!0),Object.defineProperty(r,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Ri.get(this.target)}})})();var ye;(function(r){r.eager="eager",r.lazy="lazy"})(ye||(ye={}));var ee=class extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new ee.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="complete"?this.delegate.completeChanged():t=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get loading(){return Os(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,e;return(e=(t=this.ownerDocument)===null||t===void 0?void 0:t.documentElement)===null||e===void 0?void 0:e.hasAttribute("data-turbo-preview")}};function Os(r){switch(r.toLowerCase()){case"lazy":return ye.lazy;default:return ye.eager}}function Bt(r){return new URL(r.toString(),document.baseURI)}function Te(r){let t;if(r.hash)return r.hash.slice(1);if(t=r.href.match(/#(.*)$/))return t[1]}function Ln(r,t){let e=t?.getAttribute("formaction")||r.getAttribute("action")||r.action;return Bt(e)}function ks(r){return(_s(r).match(/\.[^.]*$/)||[])[0]||""}function Rs(r){return!!ks(r).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function xs(r,t){let e=Fs(t);return r.href===Bt(e).href||r.href.startsWith(e)}function _e(r,t){return xs(r,t)&&Rs(r)}function en(r){let t=Te(r);return t!=null?r.href.slice(0,-(t.length+1)):r.href}function Sr(r){return en(r)}function Ps(r,t){return Bt(r).href==Bt(t).href}function Ms(r){return r.pathname.split("/").slice(1)}function _s(r){return Ms(r).slice(-1)[0]}function Fs(r){return Bs(r.origin+r.pathname)}function Bs(r){return r.endsWith("/")?r:r+"/"}var Ue=class{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Bt(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}};function Ke(r){if(r.getAttribute("data-turbo-eval")=="false")return r;{let t=document.createElement("script"),e=Cr("csp-nonce");return e&&(t.nonce=e),t.textContent=r.textContent,t.async=!1,Is(t,r),t}}function Is(r,t){for(let{name:e,value:n}of t.attributes)r.setAttribute(e,n)}function Ds(r){let t=document.createElement("template");return t.innerHTML=r,t.content}function Pt(r,{target:t,cancelable:e,detail:n}={}){let s=new CustomEvent(r,{cancelable:e,bubbles:!0,composed:!0,detail:n});return t&&t.isConnected?t.dispatchEvent(s):document.documentElement.dispatchEvent(s),s}function Ar(){return new Promise(r=>requestAnimationFrame(()=>r()))}function qs(){return new Promise(r=>setTimeout(()=>r(),0))}function js(){return Promise.resolve()}function xi(r=""){return new DOMParser().parseFromString(r,"text/html")}function Pi(r,...t){let e=Ns(r,t).replace(/^\n/,"").split(`
`),n=e[0].match(/^\s+/),s=n?n[0].length:0;return e.map(h=>h.slice(s)).join(`
`)}function Ns(r,t){return r.reduce((e,n,s)=>{let h=t[s]==null?"":t[s];return e+n+h},"")}function Fe(){return Array.from({length:36}).map((r,t)=>t==8||t==13||t==18||t==23?"-":t==14?"4":t==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Tr(r,...t){for(let e of t.map(n=>n?.getAttribute(r)))if(typeof e=="string")return e;return null}function Hs(r,...t){return t.some(e=>e&&e.hasAttribute(r))}function rn(...r){for(let t of r)t.localName=="turbo-frame"&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function nn(...r){for(let t of r)t.localName=="turbo-frame"&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function $s(r,t=2e3){return new Promise(e=>{let n=()=>{r.removeEventListener("error",n),r.removeEventListener("load",n),e()};r.addEventListener("load",n,{once:!0}),r.addEventListener("error",n,{once:!0}),setTimeout(e,t)})}function Mi(r){switch(r){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Vs(r){return r=="advance"||r=="replace"||r=="restore"}function _r(...r){let t=Tr("data-turbo-action",...r);return Vs(t)?t:null}function _i(r){return document.querySelector(`meta[name="${r}"]`)}function Cr(r){let t=_i(r);return t&&t.content}function Ws(r,t){let e=_i(r);return e||(e=document.createElement("meta"),e.setAttribute("name",r),document.head.appendChild(e)),e.setAttribute("content",t),e}function Lr(r,t){var e;if(r instanceof Element)return r.closest(t)||Lr(r.assignedSlot||((e=r.getRootNode())===null||e===void 0?void 0:e.host),t)}var $t;(function(r){r[r.get=0]="get",r[r.post=1]="post",r[r.put=2]="put",r[r.patch=3]="patch",r[r.delete=4]="delete"})($t||($t={}));function Us(r){switch(r.toLowerCase()){case"get":return $t.get;case"post":return $t.post;case"put":return $t.put;case"patch":return $t.patch;case"delete":return $t.delete}}var ze=class{constructor(t,e,n,s=new URLSearchParams,h=null){this.abortController=new AbortController,this.resolveRequestPromise=O=>{},this.delegate=t,this.method=e,this.headers=this.defaultHeaders,this.body=s,this.url=n,this.target=h}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:t}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(t);try{this.delegate.requestStarted(this);let e=await fetch(this.url.href,t);return await this.receive(e)}catch(e){if(e.name!=="AbortError")throw this.willDelegateErrorHandling(e)&&this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(t){let e=new Ue(t);return Pt("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:e},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,e):e.succeeded?this.delegate.requestSucceededWithResponse(this,e):this.delegate.requestFailedWithResponse(this,e),e}get fetchOptions(){var t;return{method:$t[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(t=this.delegate.referrer)===null||t===void 0?void 0:t.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===$t.get}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(t){let e=new Promise(s=>this.resolveRequestPromise=s);Pt("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await e}willDelegateErrorHandling(t){return!Pt("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented}},sn=class{constructor(t,e){this.started=!1,this.intersect=n=>{let s=n.slice(-1)[0];s?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=t,this.element=e,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},ue=class{static wrap(t){return typeof t=="string"?new this(Ds(t)):t}constructor(t){this.fragment=Ks(t)}};ue.contentType="text/vnd.turbo-stream.html";function Ks(r){for(let t of r.querySelectorAll("turbo-stream")){let e=document.importNode(t,!0);for(let n of e.templateElement.content.querySelectorAll("script"))n.replaceWith(Ke(n));t.replaceWith(e)}return r}var me;(function(r){r[r.initialized=0]="initialized",r[r.requesting=1]="requesting",r[r.waiting=2]="waiting",r[r.receiving=3]="receiving",r[r.stopping=4]="stopping",r[r.stopped=5]="stopped"})(me||(me={}));var ge;(function(r){r.urlEncoded="application/x-www-form-urlencoded",r.multipart="multipart/form-data",r.plain="text/plain"})(ge||(ge={}));function zs(r){switch(r.toLowerCase()){case ge.multipart:return ge.multipart;case ge.plain:return ge.plain;default:return ge.urlEncoded}}var Ce=class{static confirmMethod(t,e,n){return Promise.resolve(confirm(t))}constructor(t,e,n,s=!1){this.state=me.initialized,this.delegate=t,this.formElement=e,this.submitter=n,this.formData=Js(e,n),this.location=Bt(this.action),this.method==$t.get&&Gs(this.location,[...this.body.entries()]),this.fetchRequest=new ze(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=s}get method(){var t;let e=((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return Us(e.toLowerCase())||$t.get}get action(){var t;let e=typeof this.formElement.action=="string"?this.formElement.action:null;return!((t=this.submitter)===null||t===void 0)&&t.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||e||""}get body(){return this.enctype==ge.urlEncoded||this.method==$t.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var t;return zs(((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((t,[e,n])=>t.concat(typeof n=="string"?[[e,n]]:[]),[])}async start(){let{initialized:t,requesting:e}=me,n=Tr("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof n=="string"&&!await Ce.confirmMethod(n,this.formElement,this.submitter))&&this.state==t)return this.state=e,this.fetchRequest.perform()}stop(){let{stopping:t,stopped:e}=me;if(this.state!=t&&this.state!=e)return this.state=t,this.fetchRequest.cancel(),!0}prepareRequest(t){if(!t.isSafe){let e=Xs(Cr("csrf-param"))||Cr("csrf-token");e&&(t.headers["X-CSRF-Token"]=e)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType(ue.contentType)}requestStarted(t){var e;this.state=me.waiting,(e=this.submitter)===null||e===void 0||e.setAttribute("disabled",""),this.setSubmitsWith(),Pt("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,e){this.result={success:e.succeeded,fetchResponse:e}}requestSucceededWithResponse(t,e){if(e.clientError||e.serverError)this.delegate.formSubmissionFailedWithResponse(this,e);else if(this.requestMustRedirect(t)&&Zs(e)){let n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=me.receiving,this.result={success:!0,fetchResponse:e},this.delegate.formSubmissionSucceededWithResponse(this,e)}requestFailedWithResponse(t,e){this.result={success:!1,fetchResponse:e},this.delegate.formSubmissionFailedWithResponse(this,e)}requestErrored(t,e){this.result={success:!1,error:e},this.delegate.formSubmissionErrored(this,e)}requestFinished(t){var e;this.state=me.stopped,(e=this.submitter)===null||e===void 0||e.removeAttribute("disabled"),this.resetSubmitterText(),Pt("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let t=this.submitter;this.originalSubmitText=t.value,t.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let t=this.submitter;t.value=this.originalSubmitText}}}requestMustRedirect(t){return!t.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isSafe||Hs("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var t;return(t=this.submitter)===null||t===void 0?void 0:t.getAttribute("data-turbo-submits-with")}};function Js(r,t){let e=new FormData(r),n=t?.getAttribute("name"),s=t?.getAttribute("value");return n&&e.append(n,s||""),e}function Xs(r){if(r!=null){let e=(document.cookie?document.cookie.split("; "):[]).find(n=>n.startsWith(r));if(e){let n=e.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}function Zs(r){return r.statusCode==200&&!r.redirected}function Gs(r,t){let e=new URLSearchParams;for(let[n,s]of t)s instanceof File||e.append(n,s);return r.search=e.toString(),r}var Be=class{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return this.getElementForAnchor(t)!=null}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let t="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let e of this.element.querySelectorAll("[autofocus]"))if(e.closest(t)==null)return e;return null}get permanentElements(){return Bi(this.element)}getPermanentElementById(t){return Fi(this.element,t)}getPermanentElementMapForSnapshot(t){let e={};for(let n of this.permanentElements){let{id:s}=n,h=t.getPermanentElementById(s);h&&(e[s]=[n,h])}return e}};function Fi(r,t){return r.querySelector(`#${t}[data-turbo-permanent]`)}function Bi(r){return r.querySelectorAll("[id][data-turbo-permanent]")}var Je=class{constructor(t,e){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=n=>{if(!n.defaultPrevented){let s=n.target instanceof HTMLFormElement?n.target:void 0,h=n.submitter||void 0;s&&Ys(s,h)&&Qs(s,h)&&this.delegate.willSubmitForm(s,h)&&(n.preventDefault(),n.stopImmediatePropagation(),this.delegate.formSubmitted(s,h))}},this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function Ys(r,t){return(t?.getAttribute("formmethod")||r.getAttribute("method"))!="dialog"}function Qs(r,t){if(t?.hasAttribute("formtarget")||r.hasAttribute("target")){let e=t?.getAttribute("formtarget")||r.target;for(let n of document.getElementsByName(e))if(n instanceof HTMLIFrameElement)return!1;return!0}else return!0}var Or=class{constructor(t,e){this.resolveRenderPromise=n=>{},this.resolveInterceptionPromise=n=>{},this.delegate=t,this.element=e}scrollToAnchor(t){let e=this.snapshot.getElementForAnchor(t);e?(this.scrollToElement(e),this.focusElement(e)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(Te(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:e}){this.scrollRoot.scrollTo(t,e)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){let{isPreview:e,shouldRender:n,newSnapshot:s}=t;if(n)try{this.renderPromise=new Promise(j=>this.resolveRenderPromise=j),this.renderer=t,await this.prepareToRenderSnapshot(t);let h=new Promise(j=>this.resolveInterceptionPromise=j),O={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(s,O)||await h,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(s,e),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}},on=class extends Or{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Be(this.element)}},kr=class{constructor(t,e){this.clickBubbled=n=>{this.respondsToEventTarget(n.target)?this.clickEvent=n:delete this.clickEvent},this.linkClicked=n=>{this.clickEvent&&this.respondsToEventTarget(n.target)&&n.target instanceof Element&&this.delegate.shouldInterceptLinkClick(n.target,n.detail.url,n.detail.originalEvent)&&(this.clickEvent.preventDefault(),n.preventDefault(),this.delegate.linkClickIntercepted(n.target,n.detail.url,n.detail.originalEvent)),delete this.clickEvent},this.willVisit=n=>{delete this.clickEvent},this.delegate=t,this.element=e}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null;return e&&e.closest("turbo-frame, html")==this.element}},Rr=class{constructor(t,e){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=n=>{if(n instanceof MouseEvent&&this.clickEventIsSignificant(n)){let s=n.composedPath&&n.composedPath()[0]||n.target,h=this.findLinkFromClickTarget(s);if(h&&to(h)){let O=this.getLocationForLink(h);this.delegate.willFollowLinkToLocation(h,O,n)&&(n.preventDefault(),this.delegate.followedLinkToLocation(h,O))}}},this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}findLinkFromClickTarget(t){return Lr(t,"a[href]:not([target^=_]):not([download])")}getLocationForLink(t){return Bt(t.getAttribute("href")||"")}};function to(r){if(r.hasAttribute("target")){for(let t of document.getElementsByName(r.target))if(t instanceof HTMLIFrameElement)return!1;return!0}else return!0}var xr=class{constructor(t,e){this.delegate=t,this.linkInterceptor=new Rr(this,e)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(t,e,n){return this.delegate.willSubmitFormLinkToLocation(t,e,n)&&t.hasAttribute("data-turbo-method")}followedLinkToLocation(t,e){let n=document.createElement("form"),s="hidden";for(let[N,H]of e.searchParams)n.append(Object.assign(document.createElement("input"),{type:s,name:N,value:H}));let h=Object.assign(e,{search:""});n.setAttribute("data-turbo","true"),n.setAttribute("action",h.href),n.setAttribute("hidden","");let O=t.getAttribute("data-turbo-method");O&&n.setAttribute("method",O);let k=t.getAttribute("data-turbo-frame");k&&n.setAttribute("data-turbo-frame",k);let j=_r(t);j&&n.setAttribute("data-turbo-action",j);let q=t.getAttribute("data-turbo-confirm");q&&n.setAttribute("data-turbo-confirm",q),t.hasAttribute("data-turbo-stream")&&n.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,e,n),document.body.appendChild(n),n.addEventListener("turbo:submit-end",()=>n.remove(),{once:!0}),requestAnimationFrame(()=>n.requestSubmit())}},Pr=class{static async preservingPermanentElements(t,e,n){let s=new this(t,e);s.enter(),await n(),s.leave()}constructor(t,e){this.delegate=t,this.permanentElementMap=e}enter(){for(let t in this.permanentElementMap){let[e,n]=this.permanentElementMap[t];this.delegate.enteringBardo(e,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(let t in this.permanentElementMap){let[e]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(e),this.replacePlaceholderWithPermanentElement(e),this.delegate.leavingBardo(e)}}replaceNewPermanentElementWithPlaceholder(t){let e=eo(t);t.replaceWith(e)}replaceCurrentPermanentElementWithClone(t){let e=t.cloneNode(!0);t.replaceWith(e)}replacePlaceholderWithPermanentElement(t){let e=this.getPlaceholderById(t.id);e?.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find(e=>e.content==t)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function eo(r){let t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",r.id),t}var Xe=class{constructor(t,e,n,s,h=!0){this.activeElement=null,this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=s,this.willRender=h,this.renderElement=n,this.promise=new Promise((O,k)=>this.resolvingFunctions={resolve:O,reject:k})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(t){await Pr.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){let t=this.connectedSnapshot.firstAutofocusableElement;ro(t)&&t.focus()}enteringBardo(t){this.activeElement||t.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};function ro(r){return r&&typeof r.focus=="function"}var Ze=class extends Xe{static renderElement(t,e){var n;let s=document.createRange();s.selectNodeContents(t),s.deleteContents();let h=e,O=(n=h.ownerDocument)===null||n===void 0?void 0:n.createRange();O&&(O.selectNodeContents(h),t.appendChild(O.extractContents()))}constructor(t,e,n,s,h,O=!0){super(e,n,s,h,O),this.delegate=t}get shouldRender(){return!0}async render(){await Ar(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Ar(),this.focusFirstAutofocusableElement(),await Ar(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let t=this.currentElement.firstElementChild,e=no(this.currentElement.getAttribute("data-autoscroll-block"),"end"),n=io(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(t)return t.scrollIntoView({block:e,behavior:n}),!0}return!1}activateScriptElements(){for(let t of this.newScriptElements){let e=Ke(t);t.replaceWith(e)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function no(r,t){return r=="end"||r=="start"||r=="center"||r=="nearest"?r:t}function io(r,t){return r=="auto"||r=="smooth"?r:t}var te=class{static get defaultCSS(){return Pi`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${te.animationDuration}ms ease-out,
          opacity ${te.animationDuration/2}ms ${te.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,te.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,te.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let t=document.createElement("style");return t.type="text/css",t.textContent=te.defaultCSS,this.cspNonce&&(t.nonce=this.cspNonce),t}createProgressElement(){let t=document.createElement("div");return t.className="turbo-progress-bar",t}get cspNonce(){return Cr("csp-nonce")}};te.animationDuration=300;var an=class extends Be{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(t=>!co(t)).map(t=>ho(t)).reduce((t,e)=>{let{outerHTML:n}=e,s=n in t?t[n]:{type:so(e),tracked:oo(e),elements:[]};return Object.assign(Object.assign({},t),{[n]:Object.assign(Object.assign({},s),{elements:[...s.elements,e]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,e){return Object.keys(this.detailsByOuterHTML).filter(n=>!(n in e.detailsByOuterHTML)).map(n=>this.detailsByOuterHTML[n]).filter(({type:n})=>n==t).map(({elements:[n]})=>n)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,e)=>{let{type:n,tracked:s,elements:h}=this.detailsByOuterHTML[e];return n==null&&!s?[...t,...h]:h.length>1?[...t,...h.slice(1)]:t},[])}getMetaValue(t){let e=this.findMetaElementByName(t);return e?e.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((e,n)=>{let{elements:[s]}=this.detailsByOuterHTML[n];return uo(s,t)?s:e},void 0)}};function so(r){if(ao(r))return"script";if(lo(r))return"stylesheet"}function oo(r){return r.getAttribute("data-turbo-track")=="reload"}function ao(r){return r.localName=="script"}function co(r){return r.localName=="noscript"}function lo(r){let t=r.localName;return t=="style"||t=="link"&&r.getAttribute("rel")=="stylesheet"}function uo(r,t){return r.localName=="meta"&&r.getAttribute("name")==t}function ho(r){return r.hasAttribute("nonce")&&r.setAttribute("nonce",""),r}var Jt=class extends Be{static fromHTMLString(t=""){return this.fromDocument(xi(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({head:t,body:e}){return new this(e,new an(t))}constructor(t,e){super(t),this.headSnapshot=e}clone(){let t=this.element.cloneNode(!0),e=this.element.querySelectorAll("select"),n=t.querySelectorAll("select");for(let[s,h]of e.entries()){let O=n[s];for(let k of O.selectedOptions)k.selected=!1;for(let k of h.selectedOptions)O.options[k.index].selected=!0}for(let s of t.querySelectorAll('input[type="password"]'))s.value="";return new Jt(t,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var t;let e=(t=this.getSetting("root"))!==null&&t!==void 0?t:"/";return Bt(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}},Me;(function(r){r.visitStart="visitStart",r.requestStart="requestStart",r.requestEnd="requestEnd",r.visitEnd="visitEnd"})(Me||(Me={}));var Qt;(function(r){r.initialized="initialized",r.started="started",r.canceled="canceled",r.failed="failed",r.completed="completed"})(Qt||(Qt={}));var fo={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},ve;(function(r){r[r.networkFailure=0]="networkFailure",r[r.timeoutFailure=-1]="timeoutFailure",r[r.contentTypeMismatch=-2]="contentTypeMismatch"})(ve||(ve={}));var cn=class{constructor(t,e,n,s={}){this.identifier=Fe(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=Qt.initialized,this.delegate=t,this.location=e,this.restorationIdentifier=n||Fe();let{action:h,historyChanged:O,referrer:k,snapshot:j,snapshotHTML:q,response:X,visitCachedSnapshot:N,willRender:H,updateHistory:M,shouldCacheSnapshot:T,acceptsStreamResponse:E}=Object.assign(Object.assign({},fo),s);this.action=h,this.historyChanged=O,this.referrer=k,this.snapshot=j,this.snapshotHTML=q,this.response=X,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=N,this.willRender=H,this.updateHistory=M,this.scrolled=!H,this.shouldCacheSnapshot=T,this.acceptsStreamResponse=E}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Qt.initialized&&(this.recordTimingMetric(Me.visitStart),this.state=Qt.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Qt.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Qt.canceled)}complete(){this.state==Qt.started&&(this.recordTimingMetric(Me.visitEnd),this.state=Qt.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==Qt.started&&(this.state=Qt.failed,this.adapter.visitFailed(this))}changeHistory(){var t;if(!this.historyChanged&&this.updateHistory){let e=this.location.href===((t=this.referrer)===null||t===void 0?void 0:t.href)?"replace":this.action,n=Mi(e);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new ze(this,$t.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Me.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){let{statusCode:e}=t;Ci(e)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,e)}}finishRequest(){this.recordTimingMetric(Me.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:t,responseHTML:e}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Ci(t)&&e!=null?(await this.view.renderPage(Jt.fromHTMLString(e),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(Jt.fromHTMLString(e),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!Te(this.location)||t.hasAnchor(Te(this.location)))&&(this.action=="restore"||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return Jt.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let t=this.getCachedSnapshot();if(t){let e=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(t,e,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),e||this.complete())})}}followRedirect(){var t;this.redirectedToLocation&&!this.followedRedirect&&(!((t=this.response)===null||t===void 0)&&t.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(t){this.acceptsStreamResponse&&t.acceptResponseType(ue.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,e){}async requestSucceededWithResponse(t,e){let n=await e.responseHTML,{redirected:s,statusCode:h}=e;n==null?this.recordResponse({statusCode:ve.contentTypeMismatch,redirected:s}):(this.redirectedToLocation=e.redirected?e.location:void 0,this.recordResponse({statusCode:h,responseHTML:n,redirected:s}))}async requestFailedWithResponse(t,e){let n=await e.responseHTML,{redirected:s,statusCode:h}=e;n==null?this.recordResponse({statusCode:ve.contentTypeMismatch,redirected:s}):this.recordResponse({statusCode:h,responseHTML:n,redirected:s})}requestErrored(t,e){this.recordResponse({statusCode:ve.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){let t=Te(this.location);if(t!=null)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(t=>t&&this.visitCachedSnapshot(t)),this.snapshotCached=!0)}async render(t){this.cancelRender(),await new Promise(e=>{this.frame=requestAnimationFrame(()=>e())}),await t(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function Ci(r){return r>=200&&r<300}var ln=class{constructor(t){this.progressBar=new te,this.showProgressBar=()=>{this.progressBar.show()},this.session=t}visitProposedToLocation(t,e){this.navigator.startVisit(t,e?.restorationIdentifier||Fe(),e)}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||t.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,e){switch(e){case ve.networkFailure:case ve.timeoutFailure:case ve.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:e}});default:return t.loadResponse()}}visitRequestFinished(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(t){}pageInvalidated(t){this.reload(t)}visitFailed(t){}visitRendered(t){}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(t){var e;Pt("turbo:reload",{detail:t}),window.location.href=((e=this.location)===null||e===void 0?void 0:e.toString())||window.location.href}get navigator(){return this.session.navigator}},un=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=t=>{for(let e of this.temporaryElements)e.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let t=document.querySelectorAll(this.deprecatedSelector);return t.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...t]}},hn=class{constructor(t,e){this.session=t,this.element=e,this.linkInterceptor=new kr(this,e),this.formSubmitObserver=new Je(this,e)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,e,n){return this.shouldRedirect(t)}linkClickIntercepted(t,e,n){let s=this.findFrameElement(t);s&&s.delegate.linkClickIntercepted(t,e,n)}willSubmitForm(t,e){return t.closest("turbo-frame")==null&&this.shouldSubmit(t,e)&&this.shouldRedirect(t,e)}formSubmitted(t,e){let n=this.findFrameElement(t,e);n&&n.delegate.formSubmitted(t,e)}shouldSubmit(t,e){var n;let s=Ln(t,e),h=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),O=Bt((n=h?.content)!==null&&n!==void 0?n:"/");return this.shouldRedirect(t,e)&&_e(s,O)}shouldRedirect(t,e){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,e):this.session.elementIsNavigatable(t)){let s=this.findFrameElement(t,e);return s?s!=t.closest("turbo-frame"):!1}else return!1}findFrameElement(t,e){let n=e?.getAttribute("data-turbo-frame")||t.getAttribute("data-turbo-frame");if(n&&n!="_top"){let s=this.element.querySelector(`#${n}:not([disabled])`);if(s instanceof ee)return s}}},dn=class{constructor(t){this.restorationIdentifier=Fe(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=>{if(this.shouldHandlePopState()){let{turbo:n}=e.state||{};if(n){this.location=new URL(window.location.href);let{restorationIdentifier:s}=n;this.restorationIdentifier=s,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,s)}}},this.onPageLoad=async e=>{await js(),this.pageLoaded=!0},this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,e){this.update(history.pushState,t,e)}replace(t,e){this.update(history.replaceState,t,e)}update(t,e,n=Fe()){let s={turbo:{restorationIdentifier:n}};t.call(history,s,"",e.href),this.location=e,this.restorationIdentifier=n}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){let{restorationIdentifier:e}=this,n=this.restorationData[e];this.restorationData[e]=Object.assign(Object.assign({},n),t)}assumeControlOfScrollRestoration(){var t;this.previousScrollRestoration||(this.previousScrollRestoration=(t=history.scrollRestoration)!==null&&t!==void 0?t:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},fn=class{constructor(t){this.delegate=t}proposeVisit(t,e={}){this.delegate.allowsVisitingLocationWithAction(t,e.action)&&(_e(t,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(t,e):window.location.href=t.toString())}startVisit(t,e,n={}){this.stop(),this.currentVisit=new cn(this,Bt(t),e,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(t,e){this.stop(),this.formSubmission=new Ce(this,t,e,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(t){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,e){if(t==this.formSubmission){let n=await e.responseHTML;if(n){let s=t.isSafe;s||this.view.clearSnapshotCache();let{statusCode:h,redirected:O}=e,j={action:this.getActionForFormSubmission(t),shouldCacheSnapshot:s,response:{statusCode:h,responseHTML:n,redirected:O}};this.proposeVisit(e.location,j)}}}async formSubmissionFailedWithResponse(t,e){let n=await e.responseHTML;if(n){let s=Jt.fromHTMLString(n);e.serverError?await this.view.renderError(s,this.currentVisit):await this.view.renderPage(s,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished(t){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(t)}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t)}locationWithActionIsSamePage(t,e){let n=Te(t),s=Te(this.view.lastRenderedLocation),h=e==="restore"&&typeof n>"u";return e!=="replace"&&en(t)===en(this.view.lastRenderedLocation)&&(h||n!=null&&n!==s)}visitScrolledToSamePageLocation(t,e){this.delegate.visitScrolledToSamePageLocation(t,e)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:t,formElement:e}){return _r(t,e)||"advance"}},le;(function(r){r[r.initial=0]="initial",r[r.loading=1]="loading",r[r.interactive=2]="interactive",r[r.complete=3]="complete"})(le||(le={}));var pn=class{constructor(t){this.stage=le.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=t}start(){this.started||(this.stage==le.initial&&(this.stage=le.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==le.loading&&(this.stage=le.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==le.interactive&&(this.stage=le.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},mn=class{constructor(t){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(t){this.delegate.scrollPositionChanged(t)}},gn=class{render({fragment:t}){Pr.preservingPermanentElements(this,po(t),()=>document.documentElement.appendChild(t))}enteringBardo(t,e){e.replaceWith(t.cloneNode(!0))}leavingBardo(){}};function po(r){let t=Bi(document.documentElement),e={};for(let n of t){let{id:s}=n;for(let h of r.querySelectorAll("turbo-stream")){let O=Fi(h.templateElement.content,s);O&&(e[s]=[n,O])}}return e}var yn=class{constructor(t){this.sources=new Set,this.started=!1,this.inspectFetchResponse=e=>{let n=mo(e);n&&go(n)&&(e.preventDefault(),this.receiveMessageResponse(n))},this.receiveMessageEvent=e=>{this.started&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)},this.delegate=t}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}async receiveMessageResponse(t){let e=await t.responseHTML;e&&this.receiveMessageHTML(e)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream(ue.wrap(t))}};function mo(r){var t;let e=(t=r.detail)===null||t===void 0?void 0:t.fetchResponse;if(e instanceof Ue)return e}function go(r){var t;return((t=r.contentType)!==null&&t!==void 0?t:"").startsWith(ue.contentType)}var Mr=class extends Xe{static renderElement(t,e){let{documentElement:n,body:s}=document;n.replaceChild(e,s)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:t,head:e}=document;t.replaceChild(this.newHead,e),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let t of this.scriptElements){let e=t.parentNode;if(e){let n=Ke(t);e.replaceChild(n,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},Ge=class extends Xe{static renderElement(t,e){document.body&&e instanceof HTMLBodyElement?document.body.replaceWith(e):document.documentElement.appendChild(e)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let t=this.mergeProvisionalElements(),e=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await e}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let t=[];for(let e of this.newHeadStylesheetElements)t.push($s(e)),document.head.appendChild(e);await Promise.all(t)}copyNewHeadScriptElements(){for(let t of this.newHeadScriptElements)document.head.appendChild(Ke(t))}async mergeProvisionalElements(){let t=[...this.newHeadProvisionalElements];for(let e of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(e,t)||document.head.removeChild(e);for(let e of t)document.head.appendChild(e)}isCurrentElementInElementList(t,e){for(let[n,s]of e.entries()){if(t.tagName=="TITLE"){if(s.tagName!="TITLE")continue;if(t.innerHTML==s.innerHTML)return e.splice(n,1),!0}if(s.isEqualNode(t))return e.splice(n,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(let t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let t of this.newBodyScriptElements){let e=Ke(t);t.replaceWith(e)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},vn=class{constructor(t){this.keys=[],this.snapshots={},this.size=t}has(t){return Sr(t)in this.snapshots}get(t){if(this.has(t)){let e=this.read(t);return this.touch(t),e}}put(t,e){return this.write(t,e),this.touch(t),e}clear(){this.snapshots={}}read(t){return this.snapshots[Sr(t)]}write(t,e){this.snapshots[Sr(t)]=e}touch(t){let e=Sr(t),n=this.keys.indexOf(e);n>-1&&this.keys.splice(n,1),this.keys.unshift(e),this.trim()}trim(){for(let t of this.keys.splice(this.size))delete this.snapshots[t]}},bn=class extends Or{constructor(){super(...arguments),this.snapshotCache=new vn(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(t,e=!1,n=!0,s){let h=new Ge(this.snapshot,t,Ge.renderElement,e,n);return h.shouldRender?s?.changeHistory():this.forceReloaded=!0,this.render(h)}renderError(t,e){e?.changeHistory();let n=new Mr(this.snapshot,t,Mr.renderElement,!1);return this.render(n)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:e}=this;await qs();let n=t.clone();return this.snapshotCache.put(e,n),n}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}get snapshot(){return Jt.fromElement(this.element)}},wn=class{constructor(t){this.selector="a[data-turbo-preload]",this.delegate=t}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(t){for(let e of t.querySelectorAll(this.selector))this.preloadURL(e)}async preloadURL(t){let e=new URL(t.href);if(!this.snapshotCache.has(e))try{let s=await(await fetch(e.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),h=Jt.fromHTMLString(s);this.snapshotCache.put(e,h)}catch{}}},En=class{constructor(){this.navigator=new fn(this),this.history=new dn(this),this.preloader=new wn(this),this.view=new bn(this,document.documentElement),this.adapter=new ln(this),this.pageObserver=new pn(this),this.cacheObserver=new un,this.linkClickObserver=new Rr(this,window),this.formSubmitObserver=new Je(this,document),this.scrollObserver=new mn(this),this.streamObserver=new yn(this),this.formLinkClickObserver=new xr(this,document.documentElement),this.frameRedirector=new hn(this,document.documentElement),this.streamMessageRenderer=new gn,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,e={}){let n=e.frame?document.getElementById(e.frame):null;n instanceof ee?(n.src=t.toString(),n.loaded):this.navigator.proposeVisit(Bt(t),e)}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render(ue.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){this.progressBarDelay=t}setFormMode(t){this.formMode=t}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(t,e){this.enabled?this.navigator.startVisit(t,e,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,e){return this.elementIsNavigatable(t)&&_e(e,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(t,e,n){return this.elementIsNavigatable(t)&&_e(e,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,e,n)}followedLinkToLocation(t,e){let n=this.getActionForLink(t),s=t.hasAttribute("data-turbo-stream");this.visit(e.href,{action:n,acceptsStreamResponse:s})}allowsVisitingLocationWithAction(t,e){return this.locationWithActionIsSamePage(t,e)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,e){Li(t),this.adapter.visitProposedToLocation(t,e)}visitStarted(t){t.acceptsStreamResponse||rn(document.documentElement),Li(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){nn(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,e){return this.navigator.locationWithActionIsSamePage(t,e)}visitScrolledToSamePageLocation(t,e){this.notifyApplicationAfterVisitingSamePageLocation(t,e)}willSubmitForm(t,e){let n=Ln(t,e);return this.submissionIsNavigatable(t,e)&&_e(Bt(n),this.snapshot.rootLocation)}formSubmitted(t,e){this.navigator.submitForm(t,e)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){var t;!((t=this.navigator.currentVisit)===null||t===void 0)&&t.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},e){let n=this.notifyApplicationBeforeRender(t,e),{defaultPrevented:s,detail:{render:h}}=n;return this.view.renderer&&h&&(this.view.renderer.renderElement=h),!s}viewRenderedSnapshot(t,e){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,e){this.notifyApplicationAfterFrameRender(t,e)}applicationAllowsFollowingLinkToLocation(t,e,n){return!this.notifyApplicationAfterClickingLinkToLocation(t,e,n).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,e,n){return Pt("turbo:click",{target:t,detail:{url:e.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return Pt("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,e){return Pt("turbo:visit",{detail:{url:t.href,action:e}})}notifyApplicationBeforeCachingSnapshot(){return Pt("turbo:before-cache")}notifyApplicationBeforeRender(t,e){return Pt("turbo:before-render",{detail:Object.assign({newBody:t},e),cancelable:!0})}notifyApplicationAfterRender(){return Pt("turbo:render")}notifyApplicationAfterPageLoad(t={}){return Pt("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,e){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:e.toString()}))}notifyApplicationAfterFrameLoad(t){return Pt("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,e){return Pt("turbo:frame-render",{detail:{fetchResponse:t},target:e,cancelable:!0})}submissionIsNavigatable(t,e){if(this.formMode=="off")return!1;{let n=e?this.elementIsNavigatable(e):!0;return this.formMode=="optin"?n&&t.closest('[data-turbo="true"]')!=null:n&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){let e=Lr(t,"[data-turbo]"),n=Lr(t,"turbo-frame");return this.drive||n?e?e.getAttribute("data-turbo")!="false":!0:e?e.getAttribute("data-turbo")=="true":!1}getActionForLink(t){return _r(t)||"advance"}get snapshot(){return this.view.snapshot}};function Li(r){Object.defineProperties(r,yo)}var yo={absoluteURL:{get(){return this.toString()}}},Sn=class{constructor(t){this.session=t}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(t){Ws("turbo-cache-control",t)}},Ii={after(){this.targetElements.forEach(r=>{var t;return(t=r.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,r.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.append(this.templateContent))},before(){this.targetElements.forEach(r=>{var t;return(t=r.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,r)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.prepend(this.templateContent))},remove(){this.targetElements.forEach(r=>r.remove())},replace(){this.targetElements.forEach(r=>r.replaceWith(this.templateContent))},update(){this.targetElements.forEach(r=>{r.innerHTML="",r.append(this.templateContent)})}},Et=new En,vo=new Sn(Et),{navigator:bo}=Et;function Di(){Et.start()}function wo(r){Et.registerAdapter(r)}function Eo(r,t){Et.visit(r,t)}function Fr(r){Et.connectStreamSource(r)}function Br(r){Et.disconnectStreamSource(r)}function So(r){Et.renderStreamMessage(r)}function Ao(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Et.clearCache()}function To(r){Et.setProgressBarDelay(r)}function Co(r){Ce.confirmMethod=r}function Lo(r){Et.setFormMode(r)}var Oo=Object.freeze({__proto__:null,navigator:bo,session:Et,cache:vo,PageRenderer:Ge,PageSnapshot:Jt,FrameRenderer:Ze,start:Di,registerAdapter:wo,visit:Eo,connectStreamSource:Fr,disconnectStreamSource:Br,renderStreamMessage:So,clearCache:Ao,setProgressBarDelay:To,setConfirmMethod:Co,setFormMode:Lo,StreamActions:Ii}),An=class extends Error{},Tn=class{constructor(t){this.fetchResponseLoaded=e=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:e})=>{let n=e.querySelector("#"+this.element.id);n&&this.previousFrameElement&&n.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=t,this.view=new on(this,this.element),this.appearanceObserver=new sn(this,this.element),this.formLinkClickObserver=new xr(this,this.element),this.linkInterceptor=new kr(this,this.element),this.restorationIdentifier=Fe(),this.formSubmitObserver=new Je(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==ye.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==ye.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==ye.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:t}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=t,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==ye.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(Bt(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{let e=await t.responseHTML;if(e){let n=xi(e);Jt.fromDocument(n).isVisitable?await this.loadFrameResponse(t,n):await this.handleUnvisitableFrameResponse(t)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(t){this.proposeVisitIfNavigatedWithAction(t,t),this.loadSourceURL()}willSubmitFormLinkToLocation(t){return this.shouldInterceptNavigation(t)}submittedFormLinkToLocation(t,e,n){let s=this.findFrameElement(t);s&&n.setAttribute("data-turbo-frame",s.id)}shouldInterceptLinkClick(t,e,n){return this.shouldInterceptNavigation(t)}linkClickIntercepted(t,e){this.navigateFrame(t,e)}willSubmitForm(t,e){return t.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(t,e)}formSubmitted(t,e){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Ce(this,t,e);let{fetchRequest:n}=this.formSubmission;this.prepareRequest(n),this.formSubmission.start()}prepareRequest(t){var e;t.headers["Turbo-Frame"]=this.id,!((e=this.currentNavigationElement)===null||e===void 0)&&e.hasAttribute("data-turbo-stream")&&t.acceptResponseType(ue.contentType)}requestStarted(t){rn(this.element)}requestPreventedHandlingResponse(t,e){this.resolveVisitPromise()}async requestSucceededWithResponse(t,e){await this.loadResponse(e),this.resolveVisitPromise()}async requestFailedWithResponse(t,e){await this.loadResponse(e),this.resolveVisitPromise()}requestErrored(t,e){console.error(e),this.resolveVisitPromise()}requestFinished(t){nn(this.element)}formSubmissionStarted({formElement:t}){rn(t,this.findFrameElement(t))}formSubmissionSucceededWithResponse(t,e){let n=this.findFrameElement(t.formElement,t.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,t.formElement,t.submitter),n.delegate.loadResponse(e),t.isSafe||Et.clearCache()}formSubmissionFailedWithResponse(t,e){this.element.delegate.loadResponse(e),Et.clearCache()}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished({formElement:t}){nn(t,this.findFrameElement(t))}allowsImmediateRender({element:t},e){let n=Pt("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:t},e),cancelable:!0}),{defaultPrevented:s,detail:{render:h}}=n;return this.view.renderer&&h&&(this.view.renderer.renderElement=h),!s}viewRenderedSnapshot(t,e){}preloadOnLoadLinksForView(t){Et.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,e){this.previousFrameElement=t.cloneNode(!0)}async loadFrameResponse(t,e){let n=await this.extractForeignFrameElement(e.body);if(n){let s=new Be(n),h=new Ze(this,this.view.snapshot,s,Ze.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(h),this.complete=!0,Et.frameRendered(t,this.element),Et.frameLoaded(this.element),this.fetchResponseLoaded(t)}else this.willHandleFrameMissingFromResponse(t)&&this.handleFrameMissingFromResponse(t)}async visit(t){var e;let n=new ze(this,$t.get,t,new URLSearchParams,this.element);return(e=this.currentFetchRequest)===null||e===void 0||e.cancel(),this.currentFetchRequest=n,new Promise(s=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,s()},n.perform()})}navigateFrame(t,e,n){let s=this.findFrameElement(t,n);s.delegate.proposeVisitIfNavigatedWithAction(s,t,n),this.withCurrentNavigationElement(t,()=>{s.src=e})}proposeVisitIfNavigatedWithAction(t,e,n){if(this.action=_r(n,e,t),this.action){let s=Jt.fromElement(t).clone(),{visitCachedSnapshot:h}=t.delegate;t.delegate.fetchResponseLoaded=O=>{if(t.src){let{statusCode:k,redirected:j}=O,q=t.ownerDocument.documentElement.outerHTML,N={response:{statusCode:k,redirected:j,responseHTML:q},visitCachedSnapshot:h,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:s};this.action&&(N.action=this.action),Et.visit(t.src,N)}}}}changeHistory(){if(this.action){let t=Mi(this.action);Et.history.update(t,Bt(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(t){console.warn(`The response (${t.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(t.response)}willHandleFrameMissingFromResponse(t){this.element.setAttribute("complete","");let e=t.response,n=async(h,O={})=>{h instanceof Response?this.visitResponse(h):Et.visit(h,O)};return!Pt("turbo:frame-missing",{target:this.element,detail:{response:e,visit:n},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(t){this.view.missing(),this.throwFrameMissingError(t)}throwFrameMissingError(t){let e=`The response (${t.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new An(e)}async visitResponse(t){let e=new Ue(t),n=await e.responseHTML,{location:s,redirected:h,statusCode:O}=e;return Et.visit(s,{response:{redirected:h,statusCode:O,responseHTML:n}})}findFrameElement(t,e){var n;let s=Tr("data-turbo-frame",e,t)||this.element.getAttribute("target");return(n=Oi(s))!==null&&n!==void 0?n:this.element}async extractForeignFrameElement(t){let e,n=CSS.escape(this.id);try{if(e=ki(t.querySelector(`turbo-frame#${n}`),this.sourceURL),e)return e;if(e=ki(t.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),e)return await e.loaded,await this.extractForeignFrameElement(e)}catch(s){return console.error(s),new ee}return null}formActionIsVisitable(t,e){let n=Ln(t,e);return _e(Bt(n),this.rootLocation)}shouldInterceptNavigation(t,e){let n=Tr("data-turbo-frame",e,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!this.formActionIsVisitable(t,e)||!this.enabled||n=="_top")return!1;if(n){let s=Oi(n);if(s)return!s.disabled}return!(!Et.elementIsNavigatable(t)||e&&!Et.elementIsNavigatable(e))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){this.ignoringChangesToAttribute("src",()=>{this.element.src=t??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(t){this.ignoringChangesToAttribute("complete",()=>{t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var t;let e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=(t=e?.content)!==null&&t!==void 0?t:"/";return Bt(n)}isIgnoringChangesTo(t){return this.ignoredAttributes.has(t)}ignoringChangesToAttribute(t,e){this.ignoredAttributes.add(t),e(),this.ignoredAttributes.delete(t)}withCurrentNavigationElement(t,e){this.currentNavigationElement=t,e(),delete this.currentNavigationElement}};function Oi(r){if(r!=null){let t=document.getElementById(r);if(t instanceof ee)return t}}function ki(r,t){if(r){let e=r.getAttribute("src");if(e!=null&&t!=null&&Ps(e,t))throw new Error(`Matching <turbo-frame id="${r.id}"> element has a source URL which references itself`);if(r.ownerDocument!==document&&(r=document.importNode(r,!0)),r instanceof ee)return r.connectedCallback(),r.disconnectedCallback(),r}}var Ye=class extends HTMLElement{static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){var t;return(t=this.renderPromise)!==null&&t!==void 0?t:this.renderPromise=(async()=>{let e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await Ar(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var t;let e=this.targetElements.flatMap(s=>[...s.children]).filter(s=>!!s.id),n=[...((t=this.templateContent)===null||t===void 0?void 0:t.children)||[]].filter(s=>!!s.id).map(s=>s.id);return e.filter(s=>n.includes(s.id))}get performAction(){if(this.action){let t=Ii[this.action];if(t)return t;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(t){throw new Error(`${this.description}: ${t}`)}get description(){var t,e;return(e=((t=this.outerHTML.match(/<[^>]+>/))!==null&&t!==void 0?t:[])[0])!==null&&e!==void 0?e:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Ye.renderElement}})}get targetElementsById(){var t;let e=(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){var t;let e=(t=this.ownerDocument)===null||t===void 0?void 0:t.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}},Cn=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Fr(this.streamSource)}disconnectedCallback(){this.streamSource&&Br(this.streamSource)}get src(){return this.getAttribute("src")||""}};ee.delegateConstructor=Tn;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",ee);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Ye);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Cn);(()=>{let r=document.currentScript;if(r&&!r.hasAttribute("data-turbo-suppress-warning"))for(r=r.parentElement;r;){if(r==document.body)return console.warn(Pi`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,r.outerHTML);r=r.parentElement}})();window.Turbo=Oo;Di();var Wi;async function Mo(){return Wi||Vi(_o().then(Vi))}function Vi(r){return Wi=r}async function _o(){let{createConsumer:r}=await Promise.resolve().then(()=>($i(),Hi));return r()}async function Ui(r,t){let{subscriptions:e}=await Mo();return e.create(r,t)}function ir(r){return!r||typeof r!="object"||r instanceof Date||r instanceof RegExp?r:Array.isArray(r)?r.map(ir):Object.keys(r).reduce(function(t,e){var n=e[0].toLowerCase()+e.slice(1).replace(/([A-Z]+)/g,function(s,h){return"_"+h.toLowerCase()});return t[n]=ir(r[e]),t},{})}var Bn=class extends HTMLElement{async connectedCallback(){Fr(this),this.subscription=await Ui(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){Br(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(t){let e=new MessageEvent("message",{data:t});return this.dispatchEvent(e)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){let t=this.getAttribute("channel"),e=this.getAttribute("signed-stream-name");return{channel:t,signed_stream_name:e,...ir({...this.dataset})}}};customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Bn);function Ki(r){if(r.target instanceof HTMLFormElement){let{target:t,detail:{fetchOptions:e}}=r;t.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:n}}})=>{let s=Do(e.body)?e.body:new URLSearchParams,h=Bo(n,s,t);/get/i.test(h)||(/post/i.test(h)?s.delete("_method"):s.set("_method",h),e.method="post")},{once:!0})}}function Bo(r,t,e){let n=Io(r),s=t.get("_method"),h=e.getAttribute("method")||"get";return typeof n=="string"?n:typeof s=="string"?s:h}function Io(r){return(r instanceof HTMLButtonElement||r instanceof HTMLInputElement)&&r.hasAttribute("formmethod")?r.formMethod:null}function Do(r){return r instanceof FormData||r instanceof URLSearchParams}addEventListener("turbo:before-fetch-request",Ki);var Xi={exports:{}};(function(r,t){(function(e){r.exports=e()})(function(e){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(v,f){var l=v[0],c=v[1],a=v[2],i=v[3];l+=(c&a|~c&i)+f[0]-680876936|0,l=(l<<7|l>>>25)+c|0,i+=(l&c|~l&a)+f[1]-389564586|0,i=(i<<12|i>>>20)+l|0,a+=(i&l|~i&c)+f[2]+606105819|0,a=(a<<17|a>>>15)+i|0,c+=(a&i|~a&l)+f[3]-1044525330|0,c=(c<<22|c>>>10)+a|0,l+=(c&a|~c&i)+f[4]-176418897|0,l=(l<<7|l>>>25)+c|0,i+=(l&c|~l&a)+f[5]+1200080426|0,i=(i<<12|i>>>20)+l|0,a+=(i&l|~i&c)+f[6]-1473231341|0,a=(a<<17|a>>>15)+i|0,c+=(a&i|~a&l)+f[7]-45705983|0,c=(c<<22|c>>>10)+a|0,l+=(c&a|~c&i)+f[8]+1770035416|0,l=(l<<7|l>>>25)+c|0,i+=(l&c|~l&a)+f[9]-1958414417|0,i=(i<<12|i>>>20)+l|0,a+=(i&l|~i&c)+f[10]-42063|0,a=(a<<17|a>>>15)+i|0,c+=(a&i|~a&l)+f[11]-1990404162|0,c=(c<<22|c>>>10)+a|0,l+=(c&a|~c&i)+f[12]+1804603682|0,l=(l<<7|l>>>25)+c|0,i+=(l&c|~l&a)+f[13]-40341101|0,i=(i<<12|i>>>20)+l|0,a+=(i&l|~i&c)+f[14]-1502002290|0,a=(a<<17|a>>>15)+i|0,c+=(a&i|~a&l)+f[15]+1236535329|0,c=(c<<22|c>>>10)+a|0,l+=(c&i|a&~i)+f[1]-165796510|0,l=(l<<5|l>>>27)+c|0,i+=(l&a|c&~a)+f[6]-1069501632|0,i=(i<<9|i>>>23)+l|0,a+=(i&c|l&~c)+f[11]+643717713|0,a=(a<<14|a>>>18)+i|0,c+=(a&l|i&~l)+f[0]-373897302|0,c=(c<<20|c>>>12)+a|0,l+=(c&i|a&~i)+f[5]-701558691|0,l=(l<<5|l>>>27)+c|0,i+=(l&a|c&~a)+f[10]+38016083|0,i=(i<<9|i>>>23)+l|0,a+=(i&c|l&~c)+f[15]-660478335|0,a=(a<<14|a>>>18)+i|0,c+=(a&l|i&~l)+f[4]-405537848|0,c=(c<<20|c>>>12)+a|0,l+=(c&i|a&~i)+f[9]+568446438|0,l=(l<<5|l>>>27)+c|0,i+=(l&a|c&~a)+f[14]-1019803690|0,i=(i<<9|i>>>23)+l|0,a+=(i&c|l&~c)+f[3]-187363961|0,a=(a<<14|a>>>18)+i|0,c+=(a&l|i&~l)+f[8]+1163531501|0,c=(c<<20|c>>>12)+a|0,l+=(c&i|a&~i)+f[13]-1444681467|0,l=(l<<5|l>>>27)+c|0,i+=(l&a|c&~a)+f[2]-51403784|0,i=(i<<9|i>>>23)+l|0,a+=(i&c|l&~c)+f[7]+1735328473|0,a=(a<<14|a>>>18)+i|0,c+=(a&l|i&~l)+f[12]-1926607734|0,c=(c<<20|c>>>12)+a|0,l+=(c^a^i)+f[5]-378558|0,l=(l<<4|l>>>28)+c|0,i+=(l^c^a)+f[8]-2022574463|0,i=(i<<11|i>>>21)+l|0,a+=(i^l^c)+f[11]+1839030562|0,a=(a<<16|a>>>16)+i|0,c+=(a^i^l)+f[14]-35309556|0,c=(c<<23|c>>>9)+a|0,l+=(c^a^i)+f[1]-1530992060|0,l=(l<<4|l>>>28)+c|0,i+=(l^c^a)+f[4]+1272893353|0,i=(i<<11|i>>>21)+l|0,a+=(i^l^c)+f[7]-155497632|0,a=(a<<16|a>>>16)+i|0,c+=(a^i^l)+f[10]-1094730640|0,c=(c<<23|c>>>9)+a|0,l+=(c^a^i)+f[13]+681279174|0,l=(l<<4|l>>>28)+c|0,i+=(l^c^a)+f[0]-358537222|0,i=(i<<11|i>>>21)+l|0,a+=(i^l^c)+f[3]-722521979|0,a=(a<<16|a>>>16)+i|0,c+=(a^i^l)+f[6]+76029189|0,c=(c<<23|c>>>9)+a|0,l+=(c^a^i)+f[9]-640364487|0,l=(l<<4|l>>>28)+c|0,i+=(l^c^a)+f[12]-421815835|0,i=(i<<11|i>>>21)+l|0,a+=(i^l^c)+f[15]+530742520|0,a=(a<<16|a>>>16)+i|0,c+=(a^i^l)+f[2]-995338651|0,c=(c<<23|c>>>9)+a|0,l+=(a^(c|~i))+f[0]-198630844|0,l=(l<<6|l>>>26)+c|0,i+=(c^(l|~a))+f[7]+1126891415|0,i=(i<<10|i>>>22)+l|0,a+=(l^(i|~c))+f[14]-1416354905|0,a=(a<<15|a>>>17)+i|0,c+=(i^(a|~l))+f[5]-57434055|0,c=(c<<21|c>>>11)+a|0,l+=(a^(c|~i))+f[12]+1700485571|0,l=(l<<6|l>>>26)+c|0,i+=(c^(l|~a))+f[3]-1894986606|0,i=(i<<10|i>>>22)+l|0,a+=(l^(i|~c))+f[10]-1051523|0,a=(a<<15|a>>>17)+i|0,c+=(i^(a|~l))+f[1]-2054922799|0,c=(c<<21|c>>>11)+a|0,l+=(a^(c|~i))+f[8]+1873313359|0,l=(l<<6|l>>>26)+c|0,i+=(c^(l|~a))+f[15]-30611744|0,i=(i<<10|i>>>22)+l|0,a+=(l^(i|~c))+f[6]-1560198380|0,a=(a<<15|a>>>17)+i|0,c+=(i^(a|~l))+f[13]+1309151649|0,c=(c<<21|c>>>11)+a|0,l+=(a^(c|~i))+f[4]-145523070|0,l=(l<<6|l>>>26)+c|0,i+=(c^(l|~a))+f[11]-1120210379|0,i=(i<<10|i>>>22)+l|0,a+=(l^(i|~c))+f[2]+718787259|0,a=(a<<15|a>>>17)+i|0,c+=(i^(a|~l))+f[9]-343485551|0,c=(c<<21|c>>>11)+a|0,v[0]=l+v[0]|0,v[1]=c+v[1]|0,v[2]=a+v[2]|0,v[3]=i+v[3]|0}function h(v){var f=[],l;for(l=0;l<64;l+=4)f[l>>2]=v.charCodeAt(l)+(v.charCodeAt(l+1)<<8)+(v.charCodeAt(l+2)<<16)+(v.charCodeAt(l+3)<<24);return f}function O(v){var f=[],l;for(l=0;l<64;l+=4)f[l>>2]=v[l]+(v[l+1]<<8)+(v[l+2]<<16)+(v[l+3]<<24);return f}function k(v){var f=v.length,l=[1732584193,-271733879,-1732584194,271733878],c,a,i,S,p,b;for(c=64;c<=f;c+=64)s(l,h(v.substring(c-64,c)));for(v=v.substring(c-64),a=v.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<a;c+=1)i[c>>2]|=v.charCodeAt(c)<<(c%4<<3);if(i[c>>2]|=128<<(c%4<<3),c>55)for(s(l,i),c=0;c<16;c+=1)i[c]=0;return S=f*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),p=parseInt(S[2],16),b=parseInt(S[1],16)||0,i[14]=p,i[15]=b,s(l,i),l}function j(v){var f=v.length,l=[1732584193,-271733879,-1732584194,271733878],c,a,i,S,p,b;for(c=64;c<=f;c+=64)s(l,O(v.subarray(c-64,c)));for(v=c-64<f?v.subarray(c-64):new Uint8Array(0),a=v.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0;c<a;c+=1)i[c>>2]|=v[c]<<(c%4<<3);if(i[c>>2]|=128<<(c%4<<3),c>55)for(s(l,i),c=0;c<16;c+=1)i[c]=0;return S=f*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),p=parseInt(S[2],16),b=parseInt(S[1],16)||0,i[14]=p,i[15]=b,s(l,i),l}function q(v){var f="",l;for(l=0;l<4;l+=1)f+=n[v>>l*8+4&15]+n[v>>l*8&15];return f}function X(v){var f;for(f=0;f<v.length;f+=1)v[f]=q(v[f]);return v.join("")}X(k("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function v(f,l){return f=f|0||0,f<0?Math.max(f+l,0):Math.min(f,l)}ArrayBuffer.prototype.slice=function(f,l){var c=this.byteLength,a=v(f,c),i=c,S,p,b,L;return l!==e&&(i=v(l,c)),a>i?new ArrayBuffer(0):(S=i-a,p=new ArrayBuffer(S),b=new Uint8Array(p),L=new Uint8Array(this,a,S),b.set(L),p)}}();function N(v){return/[\u0080-\uFFFF]/.test(v)&&(v=unescape(encodeURIComponent(v))),v}function H(v,f){var l=v.length,c=new ArrayBuffer(l),a=new Uint8Array(c),i;for(i=0;i<l;i+=1)a[i]=v.charCodeAt(i);return f?a:c}function M(v){return String.fromCharCode.apply(null,new Uint8Array(v))}function T(v,f,l){var c=new Uint8Array(v.byteLength+f.byteLength);return c.set(new Uint8Array(v)),c.set(new Uint8Array(f),v.byteLength),l?c:c.buffer}function E(v){var f=[],l=v.length,c;for(c=0;c<l-1;c+=2)f.push(parseInt(v.substr(c,2),16));return String.fromCharCode.apply(String,f)}function g(){this.reset()}return g.prototype.append=function(v){return this.appendBinary(N(v)),this},g.prototype.appendBinary=function(v){this._buff+=v,this._length+=v.length;var f=this._buff.length,l;for(l=64;l<=f;l+=64)s(this._hash,h(this._buff.substring(l-64,l)));return this._buff=this._buff.substring(l-64),this},g.prototype.end=function(v){var f=this._buff,l=f.length,c,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i;for(c=0;c<l;c+=1)a[c>>2]|=f.charCodeAt(c)<<(c%4<<3);return this._finish(a,l),i=X(this._hash),v&&(i=E(i)),this.reset(),i},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(v){return this._buff=v.buff,this._length=v.length,this._hash=v.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(v,f){var l=f,c,a,i;if(v[l>>2]|=128<<(l%4<<3),l>55)for(s(this._hash,v),l=0;l<16;l+=1)v[l]=0;c=this._length*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(c[2],16),i=parseInt(c[1],16)||0,v[14]=a,v[15]=i,s(this._hash,v)},g.hash=function(v,f){return g.hashBinary(N(v),f)},g.hashBinary=function(v,f){var l=k(v),c=X(l);return f?E(c):c},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(v){var f=T(this._buff.buffer,v,!0),l=f.length,c;for(this._length+=v.byteLength,c=64;c<=l;c+=64)s(this._hash,O(f.subarray(c-64,c)));return this._buff=c-64<l?new Uint8Array(f.buffer.slice(c-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(v){var f=this._buff,l=f.length,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a,i;for(a=0;a<l;a+=1)c[a>>2]|=f[a]<<(a%4<<3);return this._finish(c,l),i=X(this._hash),v&&(i=E(i)),this.reset(),i},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var v=g.prototype.getState.call(this);return v.buff=M(v.buff),v},g.ArrayBuffer.prototype.setState=function(v){return v.buff=H(v.buff,!0),g.prototype.setState.call(this,v)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(v,f){var l=j(new Uint8Array(v)),c=X(l);return f?E(c):c},g})})(Xi);var qo=Xi.exports,jo=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,sr=class{static create(t,e){new sr(t).create(e)}constructor(t){this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(t){this.callback=t,this.md5Buffer=new qo.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",e=>this.fileReaderDidLoad(e)),this.fileReader.addEventListener("error",e=>this.fileReaderDidError(e)),this.readNextChunk()}fileReaderDidLoad(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){let e=this.md5Buffer.end(!0),n=btoa(e);this.callback(null,n)}}fileReaderDidError(t){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){let t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),n=jo.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}else return!1}};function No(r){let t=Zi(document.head,`meta[name="${r}"]`);if(t)return t.getAttribute("content")}function Ho(r,t){typeof r=="string"&&(t=r,r=document);let e=r.querySelectorAll(t);return Yi(e)}function Zi(r,t){return typeof r=="string"&&(t=r,r=document),r.querySelector(t)}function Gi(r,t,e={}){let{disabled:n}=r,{bubbles:s,cancelable:h,detail:O}=e,k=document.createEvent("Event");k.initEvent(t,s||!0,h||!0),k.detail=O||{};try{r.disabled=!1,r.dispatchEvent(k)}finally{r.disabled=n}return k}function Yi(r){return Array.isArray(r)?r:Array.from?Array.from(r):[].slice.call(r)}var Dn=class{constructor(t,e,n){this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");let s=No("csrf-token");s!=null&&this.xhr.setRequestHeader("X-CSRF-Token",s),this.xhr.addEventListener("load",h=>this.requestDidLoad(h)),this.xhr.addEventListener("error",h=>this.requestDidError(h))}get status(){return this.xhr.status}get response(){let{responseType:t,response:e}=this.xhr;return t=="json"?e:JSON.parse(e)}create(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(t){if(this.status>=200&&this.status<300){let{response:e}=this,{direct_upload:n}=e;delete e.direct_upload,this.attributes=e,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(t)}requestDidError(t){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){let t={};for(let e in this.attributes)t[e]=this.attributes[e];return t}},qn=class{constructor(t){this.blob=t,this.file=t.file;let{url:e,headers:n}=t.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",e,!0),this.xhr.responseType="text";for(let s in n)this.xhr.setRequestHeader(s,n[s]);this.xhr.addEventListener("load",s=>this.requestDidLoad(s)),this.xhr.addEventListener("error",s=>this.requestDidError(s))}create(t){this.callback=t,this.xhr.send(this.file.slice())}requestDidLoad(t){let{status:e,response:n}=this.xhr;e>=200&&e<300?this.callback(null,n):this.requestDidError(t)}requestDidError(t){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}},$o=0,jn=class{constructor(t,e,n){this.id=++$o,this.file=t,this.url=e,this.delegate=n}create(t){sr.create(this.file,(e,n)=>{if(e){t(e);return}let s=new Dn(this.file,n,this.url);zi(this.delegate,"directUploadWillCreateBlobWithXHR",s.xhr),s.create(h=>{if(h)t(h);else{let O=new qn(s);zi(this.delegate,"directUploadWillStoreFileWithXHR",O.xhr),O.create(k=>{k?t(k):t(null,s.toJSON())})}})})}};function zi(r,t,...e){if(r&&typeof r[t]=="function")return r[t](...e)}var Nn=class{constructor(t,e){this.input=t,this.file=e,this.directUpload=new jn(this.file,this.url,this),this.dispatch("initialize")}start(t){let e=document.createElement("input");e.type="hidden",e.name=this.input.name,this.input.insertAdjacentElement("beforebegin",e),this.dispatch("start"),this.directUpload.create((n,s)=>{n?(e.parentNode.removeChild(e),this.dispatchError(n)):e.value=s.signed_id,this.dispatch("end"),t(n)})}uploadRequestDidProgress(t){let e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(t,e={}){return e.file=this.file,e.id=this.directUpload.id,Gi(this.input,`direct-upload:${t}`,{detail:e})}dispatchError(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}directUploadWillCreateBlobWithXHR(t){this.dispatch("before-blob-request",{xhr:t})}directUploadWillStoreFileWithXHR(t){this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",e=>this.uploadRequestDidProgress(e))}},Vo="input[type=file][data-direct-upload-url]:not([disabled])",Hn=class{constructor(t){this.form=t,this.inputs=Ho(t,Vo).filter(e=>e.files.length)}start(t){let e=this.createDirectUploadControllers(),n=()=>{let s=e.shift();s?s.start(h=>{h?(t(h),this.dispatch("end")):n()}):(t(),this.dispatch("end"))};this.dispatch("start"),n()}createDirectUploadControllers(){let t=[];return this.inputs.forEach(e=>{Yi(e.files).forEach(n=>{let s=new Nn(e,n);t.push(s)})}),t}dispatch(t,e={}){return Gi(this.form,`direct-uploads:${t}`,{detail:e})}},In="data-direct-uploads-processing",$n=new WeakMap,Ji=!1;function Vn(){Ji||(Ji=!0,document.addEventListener("click",Wo,!0),document.addEventListener("submit",Uo,!0),document.addEventListener("ajax:before",Ko))}function Wo(r){let{target:t}=r;(t.tagName=="INPUT"||t.tagName=="BUTTON")&&t.type=="submit"&&t.form&&$n.set(t.form,t)}function Uo(r){Qi(r)}function Ko(r){r.target.tagName=="FORM"&&Qi(r)}function Qi(r){let t=r.target;if(t.hasAttribute(In)){r.preventDefault();return}let e=new Hn(t),{inputs:n}=e;n.length&&(r.preventDefault(),t.setAttribute(In,""),n.forEach(Jo),e.start(s=>{t.removeAttribute(In),s?n.forEach(Xo):zo(t)}))}function zo(r){let t=$n.get(r)||Zi(r,"input[type=submit], button[type=submit]");if(t){let{disabled:e}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=e}else t=document.createElement("input"),t.type="submit",t.style.display="none",r.appendChild(t),t.click(),r.removeChild(t);$n.delete(r)}function Jo(r){r.disabled=!0}function Xo(r){r.disabled=!1}function Zo(){window.ActiveStorage&&Vn()}setTimeout(Zo,1);var Wn=class{constructor(t,e,n){this.eventTarget=t,this.eventName=e,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){let e=Yo(t);for(let n of this.bindings){if(e.immediatePropagationStopped)break;n.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((t,e)=>{let n=t.index,s=e.index;return n<s?-1:n>s?1:0})}};function Yo(r){if("immediatePropagationStopped"in r)return r;{let{stopImmediatePropagation:t}=r;return Object.assign(r,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}var Un=class{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(t=>t.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(t=>t.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((t,e)=>t.concat(Array.from(e.values())),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,n={}){this.application.handleError(t,`Error ${e}`,n)}clearEventListenersForBinding(t){let e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){let{eventTarget:e,eventName:n,eventOptions:s}=t,h=this.fetchEventListenerMapForEventTarget(e),O=this.cacheKey(n,s);h.delete(O),h.size==0&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){let{eventTarget:e,eventName:n,eventOptions:s}=t;return this.fetchEventListener(e,n,s)}fetchEventListener(t,e,n){let s=this.fetchEventListenerMapForEventTarget(t),h=this.cacheKey(e,n),O=s.get(h);return O||(O=this.createEventListener(t,e,n),s.set(h,O)),O}createEventListener(t,e,n){let s=new Wn(t,e,n);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){let n=[t];return Object.keys(e).sort().forEach(s=>{n.push(`${e[s]?"":"!"}${s}`)}),n.join(":")}},Qo={stop({event:r,value:t}){return t&&r.stopPropagation(),!0},prevent({event:r,value:t}){return t&&r.preventDefault(),!0},self({event:r,value:t,element:e}){return t?e===r.target:!0}},ta=/^(?:(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function ea(r){let e=r.trim().match(ta)||[],n=e[1],s=e[2];return s&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${s}`,s=""),{eventTarget:ra(e[3]),eventName:n,eventOptions:e[6]?na(e[6]):{},identifier:e[4],methodName:e[5],keyFilter:s}}function ra(r){if(r=="window")return window;if(r=="document")return document}function na(r){return r.split(":").reduce((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)}),{})}function ia(r){if(r==window)return"window";if(r==document)return"document"}function di(r){return r.replace(/(?:[_-])([a-z0-9])/g,(t,e)=>e.toUpperCase())}function Kn(r){return di(r.replace(/--/g,"-").replace(/__/g,"_"))}function cr(r){return r.charAt(0).toUpperCase()+r.slice(1)}function is(r){return r.replace(/([A-Z])/g,(t,e)=>`-${e.toLowerCase()}`)}function sa(r){return r.match(/[^\s]+/g)||[]}var zn=class{constructor(t,e,n,s){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||oa(t)||$r("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||$r("missing identifier"),this.methodName=n.methodName||$r("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=s}static forToken(t,e){return new this(t.element,t.index,ea(t.content),e)}toString(){let t=this.keyFilter?`.${this.keyFilter}`:"",e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${e}->${this.identifier}#${this.methodName}`}isFilterTarget(t){if(!this.keyFilter)return!1;let e=this.keyFilter.split("+"),n=["meta","ctrl","alt","shift"],[s,h,O,k]=n.map(q=>e.includes(q));if(t.metaKey!==s||t.ctrlKey!==h||t.altKey!==O||t.shiftKey!==k)return!0;let j=e.filter(q=>!n.includes(q))[0];return j?(Object.prototype.hasOwnProperty.call(this.keyMappings,j)||$r(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[j].toLowerCase()!==t.key.toLowerCase()):!1}get params(){let t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:s}of Array.from(this.element.attributes)){let h=n.match(e),O=h&&h[1];O&&(t[di(O)]=aa(s))}return t}get eventTargetName(){return ia(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}},ts={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:r=>r.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function oa(r){let t=r.tagName.toLowerCase();if(t in ts)return ts[t](r)}function $r(r){throw new Error(r)}function aa(r){try{return JSON.parse(r)}catch{return r}}var Jn=class{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){this.willBeInvokedByEvent(t)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){let t=this.controller[this.methodName];if(typeof t=="function")return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){let{element:e}=this.action,{actionDescriptorFilters:n}=this.context.application,s=!0;for(let[h,O]of Object.entries(this.eventOptions))if(h in n){let k=n[h];s=s&&k({name:h,value:O,event:t,element:e})}else continue;return s}invokeWithEvent(t){let{target:e,currentTarget:n}=t;try{let{params:s}=this.action,h=Object.assign(t,{params:s});this.method.call(this.controller,h),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:n,action:this.methodName})}catch(s){let{identifier:h,controller:O,element:k,index:j}=this,q={identifier:h,controller:O,element:k,index:j,event:t};this.context.handleError(s,`invoking action "${this.action}"`,q)}}willBeInvokedByEvent(t){let e=t.target;return t instanceof KeyboardEvent&&this.action.isFilterTarget(t)?!1:this.element===e?!0:e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Vr=class{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let t=new Set(this.matchElementsInTree());for(let e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(let e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(let e of t)this.processMutation(e)}processMutation(t){t.type=="attributes"?this.processAttributeChange(t.target,t.attributeName):t.type=="childList"&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){let n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)}processRemovedNodes(t){for(let e of Array.from(t)){let n=this.elementFromNode(e);n&&this.processTree(n,this.removeElement)}}processAddedNodes(t){for(let e of Array.from(t)){let n=this.elementFromNode(e);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(let n of this.matchElementsInTree(t))e.call(this,n)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected!=this.element.isConnected?!1:this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}},Xn=class{constructor(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new Vr(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){let e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}};function ca(r,t,e){ss(r,t).add(e)}function la(r,t,e){ss(r,t).delete(e),ua(r,t)}function ss(r,t){let e=r.get(t);return e||(e=new Set,r.set(t,e)),e}function ua(r,t){let e=r.get(t);e!=null&&e.size==0&&r.delete(t)}var he=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((e,n)=>e.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((e,n)=>e+n.size,0)}add(t,e){ca(this.valuesByKey,t,e)}delete(t,e){la(this.valuesByKey,t,e)}has(t,e){let n=this.valuesByKey.get(t);return n!=null&&n.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some(n=>n.has(t))}getValuesForKey(t){let e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter(([e,n])=>n.has(t)).map(([e,n])=>e)}};var Zn=class{constructor(t,e,n,s={}){this.selector=e,this.details=s,this.elementObserver=new Vr(t,this),this.delegate=n,this.matchesByElement=new he}get started(){return this.elementObserver.started}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){let e=t.matches(this.selector);return this.delegate.selectorMatchElement?e&&this.delegate.selectorMatchElement(t,this.details):e}matchElementsInTree(t){let e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector)).filter(s=>this.matchElement(s));return e.concat(n)}elementMatched(t){this.selectorMatched(t)}elementUnmatched(t){this.selectorUnmatched(t)}elementAttributeChanged(t,e){let n=this.matchElement(t),s=this.matchesByElement.has(this.selector,t);!n&&s&&this.selectorUnmatched(t)}selectorMatched(t){this.delegate.selectorMatched&&(this.delegate.selectorMatched(t,this.selector,this.details),this.matchesByElement.add(this.selector,t))}selectorUnmatched(t){this.delegate.selectorUnmatched(t,this.selector,this.details),this.matchesByElement.delete(this.selector,t)}},Gn=class{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(let e of t)this.processMutation(e)}processMutation(t){let e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){let n=this.delegate.getStringMapKeyForAttribute(t);if(n!=null){this.stringMap.has(t)||this.stringMapKeyAdded(n,t);let s=this.element.getAttribute(t);if(this.stringMap.get(t)!=s&&this.stringMapValueChanged(s,n,e),s==null){let h=this.stringMap.get(t);this.stringMap.delete(t),h&&this.stringMapKeyRemoved(n,t,h)}else this.stringMap.set(t,s)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,n)}stringMapKeyRemoved(t,e,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(t=>t.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Wr=class{constructor(t,e,n){this.attributeObserver=new Xn(t,e,this),this.delegate=n,this.tokensByElement=new he}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){let[e,n]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(n)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach(e=>this.tokenMatched(e))}tokensUnmatched(t){t.forEach(e=>this.tokenUnmatched(e))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){let e=this.tokensByElement.getValuesForKey(t),n=this.readTokensForElement(t),s=da(e,n).findIndex(([h,O])=>!fa(h,O));return s==-1?[[],[]]:[e.slice(s),n.slice(s)]}readTokensForElement(t){let e=this.attributeName,n=t.getAttribute(e)||"";return ha(n,t,e)}};function ha(r,t,e){return r.trim().split(/\s+/).filter(n=>n.length).map((n,s)=>({element:t,attributeName:e,content:n,index:s}))}function da(r,t){let e=Math.max(r.length,t.length);return Array.from({length:e},(n,s)=>[r[s],t[s]])}function fa(r,t){return r&&t&&r.index==t.index&&r.content==t.content}var Ur=class{constructor(t,e,n){this.tokenListObserver=new Wr(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){let{element:e}=t,{value:n}=this.fetchParseResultForToken(t);n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))}tokenUnmatched(t){let{element:e}=t,{value:n}=this.fetchParseResultForToken(t);n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(e){return{error:e}}}},Yn=class{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Ur(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){let e=new Jn(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){let e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach(t=>this.delegate.bindingDisconnected(t,!0)),this.bindingsByAction.clear()}parseValueForToken(t){let e=zn.forToken(t,this.schema);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}},Qn=class{constructor(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new Gn(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){let n=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,n.writer(this.receiver[t]),n.writer(n.defaultValue))}stringMapValueChanged(t,e,n){let s=this.valueDescriptorNameMap[e];t!==null&&(n===null&&(n=s.writer(s.defaultValue)),this.invokeChangedCallback(e,t,n))}stringMapKeyRemoved(t,e,n){let s=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,s.writer(this.receiver[t]),n):this.invokeChangedCallback(t,s.writer(s.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:t,name:e,defaultValue:n,writer:s}of this.valueDescriptors)n!=null&&!this.controller.data.has(t)&&this.invokeChangedCallback(e,s(n),void 0)}invokeChangedCallback(t,e,n){let s=`${t}Changed`,h=this.receiver[s];if(typeof h=="function"){let O=this.valueDescriptorNameMap[t];try{let k=O.reader(e),j=n;n&&(j=O.reader(n)),h.call(this.receiver,k,j)}catch(k){throw k instanceof TypeError&&(k.message=`Stimulus Value "${this.context.identifier}.${O.name}" - ${k.message}`),k}}}get valueDescriptors(){let{valueDescriptorMap:t}=this;return Object.keys(t).map(e=>t[e])}get valueDescriptorNameMap(){let t={};return Object.keys(this.valueDescriptorMap).forEach(e=>{let n=this.valueDescriptorMap[e];t[n.name]=n}),t}hasValue(t){let e=this.valueDescriptorNameMap[t],n=`has${cr(e.name)}`;return this.receiver[n]}},ti=class{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new he}start(){this.tokenListObserver||(this.tokenListObserver=new Wr(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var n;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(t,e)))}disconnectTarget(t,e){var n;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(t,e)))}disconnectAllTargets(){for(let t of this.targetsByName.keys)for(let e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function lr(r,t){let e=os(r);return Array.from(e.reduce((n,s)=>(ma(s,t).forEach(h=>n.add(h)),n),new Set))}function pa(r,t){return os(r).reduce((n,s)=>(n.push(...ga(s,t)),n),[])}function os(r){let t=[];for(;r;)t.push(r),r=Object.getPrototypeOf(r);return t.reverse()}function ma(r,t){let e=r[t];return Array.isArray(e)?e:[]}function ga(r,t){let e=r[t];return e?Object.keys(e).map(n=>[n,e[n]]):[]}var ei=class{constructor(t,e){this.context=t,this.delegate=e,this.outletsByName=new he,this.outletElementsByName=new he,this.selectorObserverMap=new Map}start(){this.selectorObserverMap.size===0&&(this.outletDefinitions.forEach(t=>{let e=this.selector(t),n={outletName:t};e&&this.selectorObserverMap.set(t,new Zn(document.body,e,this,n))}),this.selectorObserverMap.forEach(t=>t.start())),this.dependentContexts.forEach(t=>t.refresh())}stop(){this.selectorObserverMap.size>0&&(this.disconnectAllOutlets(),this.selectorObserverMap.forEach(t=>t.stop()),this.selectorObserverMap.clear())}refresh(){this.selectorObserverMap.forEach(t=>t.refresh())}selectorMatched(t,e,{outletName:n}){let s=this.getOutlet(t,n);s&&this.connectOutlet(s,t,n)}selectorUnmatched(t,e,{outletName:n}){let s=this.getOutletFromMap(t,n);s&&this.disconnectOutlet(s,t,n)}selectorMatchElement(t,{outletName:e}){return this.hasOutlet(t,e)&&t.matches(`[${this.context.application.schema.controllerAttribute}~=${e}]`)}connectOutlet(t,e,n){var s;this.outletElementsByName.has(n,e)||(this.outletsByName.add(n,t),this.outletElementsByName.add(n,e),(s=this.selectorObserverMap.get(n))===null||s===void 0||s.pause(()=>this.delegate.outletConnected(t,e,n)))}disconnectOutlet(t,e,n){var s;this.outletElementsByName.has(n,e)&&(this.outletsByName.delete(n,t),this.outletElementsByName.delete(n,e),(s=this.selectorObserverMap.get(n))===null||s===void 0||s.pause(()=>this.delegate.outletDisconnected(t,e,n)))}disconnectAllOutlets(){for(let t of this.outletElementsByName.keys)for(let e of this.outletElementsByName.getValuesForKey(t))for(let n of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(n,e,t)}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}get outletDependencies(){let t=new he;return this.router.modules.forEach(e=>{let n=e.definition.controllerConstructor;lr(n,"outlets").forEach(h=>t.add(h,e.identifier))}),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let t=this.dependentControllerIdentifiers;return this.router.contexts.filter(e=>t.includes(e.identifier))}hasOutlet(t,e){return!!this.getOutlet(t,e)||!!this.getOutletFromMap(t,e)}getOutlet(t,e){return this.application.getControllerForElementAndIdentifier(t,e)}getOutletFromMap(t,e){return this.outletsByName.getValuesForKey(e).find(n=>n.element===t)}get scope(){return this.context.scope}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},ri=class{constructor(t,e){this.logDebugActivity=(n,s={})=>{let{identifier:h,controller:O,element:k}=this;s=Object.assign({identifier:h,controller:O,element:k},s),this.application.logDebugActivity(this.identifier,n,s)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new Yn(this,this.dispatcher),this.valueObserver=new Qn(this,this.controller),this.targetObserver=new ti(this,this),this.outletObserver=new ei(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,n={}){let{identifier:s,controller:h,element:O}=this;n=Object.assign({identifier:s,controller:h,element:O},n),this.application.handleError(t,`Error ${e}`,n)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}outletConnected(t,e,n){this.invokeControllerMethod(`${Kn(n)}OutletConnected`,t,e)}outletDisconnected(t,e,n){this.invokeControllerMethod(`${Kn(n)}OutletDisconnected`,t,e)}invokeControllerMethod(t,...e){let n=this.controller;typeof n[t]=="function"&&n[t](...e)}};function ya(r){return va(r,ba(r))}function va(r,t){let e=Aa(r),n=wa(r.prototype,t);return Object.defineProperties(e.prototype,n),e}function ba(r){return lr(r,"blessings").reduce((e,n)=>{let s=n(r);for(let h in s){let O=e[h]||{};e[h]=Object.assign(O,s[h])}return e},{})}function wa(r,t){return Sa(t).reduce((e,n)=>{let s=Ea(r,t,n);return s&&Object.assign(e,{[n]:s}),e},{})}function Ea(r,t,e){let n=Object.getOwnPropertyDescriptor(r,e);if(!(n&&"value"in n)){let h=Object.getOwnPropertyDescriptor(t,e).value;return n&&(h.get=n.get||h.get,h.set=n.set||h.set),h}}var Sa=(()=>typeof Object.getOwnPropertySymbols=="function"?r=>[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]:Object.getOwnPropertyNames)(),Aa=(()=>{function r(e){function n(){return Reflect.construct(e,arguments,new.target)}return n.prototype=Object.create(e.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,e),n}function t(){let n=r(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return t(),r}catch{return n=>class extends n{}}})();function Ta(r){return{identifier:r.identifier,controllerConstructor:ya(r.controllerConstructor)}}var ni=class{constructor(t,e){this.application=t,this.definition=Ta(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){let e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){let e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new ri(this,t),this.contextsByScope.set(t,e)),e}},ii=class{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){let e=this.data.get(this.getDataKey(t))||"";return sa(e)}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}},si=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){let e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){let n=this.getAttributeNameForKey(t);return this.element.setAttribute(n,e),this.get(t)}has(t){let e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){let e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}else return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${is(t)}`}},oi=class{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,n){let s=this.warnedKeysByObject.get(t);s||(s=new Set,this.warnedKeysByObject.set(t,s)),s.has(e)||(s.add(e),this.logger.warn(n,t))}};function ai(r,t){return`[${r}~="${t}"]`}var ci=class{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,n)=>e||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...t){return t.reduce((e,n)=>[...e,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(t){let e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){let e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){let e=this.schema.targetAttributeForScope(this.identifier);return ai(e,t)}findLegacyTarget(t){let e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){let e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map(n=>this.deprecate(n,t))}getLegacySelectorForTargetName(t){let e=`${this.identifier}.${t}`;return ai(this.schema.targetAttribute,e)}deprecate(t,e){if(t){let{identifier:n}=this,s=this.schema.targetAttribute,h=this.schema.targetAttributeForScope(n);this.guide.warn(t,`target:${e}`,`Please replace ${s}="${n}.${e}" with ${h}="${e}". The ${s} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}},li=class{constructor(t,e){this.scope=t,this.controllerElement=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,n)=>e||this.findOutlet(n),void 0)}findAll(...t){return t.reduce((e,n)=>[...e,...this.findAllOutlets(n)],[])}getSelectorForOutletName(t){let e=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(e)}findOutlet(t){let e=this.getSelectorForOutletName(t);if(e)return this.findElement(e,t)}findAllOutlets(t){let e=this.getSelectorForOutletName(t);return e?this.findAllElements(e,t):[]}findElement(t,e){return this.scope.queryElements(t).filter(s=>this.matchesElement(s,t,e))[0]}findAllElements(t,e){return this.scope.queryElements(t).filter(s=>this.matchesElement(s,t,e))}matchesElement(t,e,n){let s=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(e)&&s.split(" ").includes(n)}},or=class{constructor(t,e,n,s){this.targets=new ci(this),this.classes=new ii(this),this.data=new si(this),this.containsElement=h=>h.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=n,this.guide=new oi(s),this.outlets=new li(this.documentScope,e)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return ai(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new or(this.schema,document.documentElement,this.identifier,this.guide.logger)}},ui=class{constructor(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new Ur(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){let{element:e,content:n}=t,s=this.fetchScopesByIdentifierForElement(e),h=s.get(n);return h||(h=this.delegate.createScopeForElementAndIdentifier(e,n),s.set(n,h)),h}elementMatchedValue(t,e){let n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),n==1&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){let n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),n==1&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}},hi=class{constructor(t){this.application=t,this.scopeObserver=new ui(this.element,this.schema,this),this.scopesByIdentifier=new he,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((t,e)=>t.concat(e.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);let e=new ni(this.application,t);this.connectModule(e);let n=t.controllerConstructor.afterLoad;n&&n(t.identifier,this.application)}unloadIdentifier(t){let e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){let n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find(s=>s.element==t)}handleError(t,e,n){this.application.handleError(t,e,n)}createScopeForElementAndIdentifier(t,e){return new or(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);let e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);let e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(n=>t.connectContextForScope(n))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(n=>t.disconnectContextForScope(n))}},Ca={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:r=>`data-${r}-target`,outletAttributeForScope:(r,t)=>`data-${r}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End"},es("abcdefghijklmnopqrstuvwxyz".split("").map(r=>[r,r]))),es("0123456789".split("").map(r=>[r,r])))};function es(r){return r.reduce((t,[e,n])=>Object.assign(Object.assign({},t),{[e]:n}),{})}var Kr=class{constructor(t=document.documentElement,e=Ca){this.logger=console,this.debug=!1,this.logDebugActivity=(n,s,h={})=>{this.debug&&this.logFormattedMessage(n,s,h)},this.element=t,this.schema=e,this.dispatcher=new Un(this),this.router=new hi(this),this.actionDescriptorFilters=Object.assign({},Qo)}static start(t,e){let n=new this(t,e);return n.start(),n}async start(){await La(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(s=>{s.controllerConstructor.shouldLoad&&this.router.loadDefinition(s)})}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(s=>this.router.unloadIdentifier(s))}get controllers(){return this.router.contexts.map(t=>t.controller)}getControllerForElementAndIdentifier(t,e){let n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null}handleError(t,e,n){var s;this.logger.error(`%s

%o

%o`,e,t,n),(s=window.onerror)===null||s===void 0||s.call(window,e,"",0,0,t)}logFormattedMessage(t,e,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function La(){return new Promise(r=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>r()):r()})}function Oa(r){return lr(r,"classes").reduce((e,n)=>Object.assign(e,ka(n)),{})}function ka(r){return{[`${r}Class`]:{get(){let{classes:t}=this;if(t.has(r))return t.get(r);{let e=t.getAttributeName(r);throw new Error(`Missing attribute "${e}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${cr(r)}Class`]:{get(){return this.classes.has(r)}}}}function Ra(r){return lr(r,"outlets").reduce((e,n)=>Object.assign(e,xa(n)),{})}function xa(r){let t=Kn(r);return{[`${t}Outlet`]:{get(){let e=this.outlets.find(r);if(e){let n=this.application.getControllerForElementAndIdentifier(e,r);if(n)return n;throw new Error(`Missing "data-controller=${r}" attribute on outlet element for "${this.identifier}" controller`)}throw new Error(`Missing outlet element "${r}" for "${this.identifier}" controller`)}},[`${t}Outlets`]:{get(){let e=this.outlets.findAll(r);return e.length>0?e.map(n=>{let s=this.application.getControllerForElementAndIdentifier(n,r);if(s)return s;console.warn(`The provided outlet element is missing the outlet controller "${r}" for "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${t}OutletElement`]:{get(){let e=this.outlets.find(r);if(e)return e;throw new Error(`Missing outlet element "${r}" for "${this.identifier}" controller`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${cr(t)}Outlet`]:{get(){return this.outlets.has(r)}}}}function Pa(r){return lr(r,"targets").reduce((e,n)=>Object.assign(e,Ma(n)),{})}function Ma(r){return{[`${r}Target`]:{get(){let t=this.targets.find(r);if(t)return t;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${cr(r)}Target`]:{get(){return this.targets.has(r)}}}}function _a(r){let t=pa(r,"values"),e={valueDescriptorMap:{get(){return t.reduce((n,s)=>{let h=as(s,this.identifier),O=this.data.getAttributeNameForKey(h.key);return Object.assign(n,{[O]:h})},{})}}};return t.reduce((n,s)=>Object.assign(n,Fa(s)),e)}function Fa(r,t){let e=as(r,t),{key:n,name:s,reader:h,writer:O}=e;return{[s]:{get(){let k=this.data.get(n);return k!==null?h(k):e.defaultValue},set(k){k===void 0?this.data.delete(n):this.data.set(n,O(k))}},[`has${cr(s)}`]:{get(){return this.data.has(n)||e.hasCustomDefaultValue}}}}function as([r,t],e){return qa({controller:e,token:r,typeDefinition:t})}function fi(r){switch(r){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ar(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(r))return"array";if(Object.prototype.toString.call(r)==="[object Object]")return"object"}function Ba(r){let t=fi(r.typeObject.type);if(!t)return;let e=ar(r.typeObject.default);if(t!==e){let n=r.controller?`${r.controller}.${r.token}`:r.token;throw new Error(`The specified default value for the Stimulus Value "${n}" must match the defined type "${t}". The provided default value of "${r.typeObject.default}" is of type "${e}".`)}return t}function Ia(r){let t=Ba({controller:r.controller,token:r.token,typeObject:r.typeDefinition}),e=ar(r.typeDefinition),n=fi(r.typeDefinition),s=t||e||n;if(s)return s;let h=r.controller?`${r.controller}.${r.typeDefinition}`:r.token;throw new Error(`Unknown value type "${h}" for "${r.token}" value`)}function Da(r){let t=fi(r);if(t)return ja[t];let e=r.default;return e!==void 0?e:r}function qa(r){let t=`${is(r.token)}-value`,e=Ia(r);return{type:e,key:t,name:di(t),get defaultValue(){return Da(r.typeDefinition)},get hasCustomDefaultValue(){return ar(r.typeDefinition)!==void 0},reader:Na[e],writer:rs[e]||rs.default}}var ja={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Na={array(r){let t=JSON.parse(r);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${r}" of type "${ar(t)}"`);return t},boolean(r){return!(r=="0"||String(r).toLowerCase()=="false")},number(r){return Number(r)},object(r){let t=JSON.parse(r);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${r}" of type "${ar(t)}"`);return t},string(r){return r}},rs={default:Ha,array:ns,object:ns};function ns(r){return JSON.stringify(r)}function Ha(r){return`${r}`}var It=class{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:n={},prefix:s=this.identifier,bubbles:h=!0,cancelable:O=!0}={}){let k=s?`${s}:${t}`:t,j=new CustomEvent(k,{detail:n,bubbles:h,cancelable:O});return e.dispatchEvent(j),j}};It.blessings=[Oa,Pa,_a,Ra];It.targets=[];It.outlets=[];It.values={};var we=Kr.start();we.debug=!1;window.Stimulus=we;var zr=class extends It{connect(){console.log("Hello World!")}};var mi=tn(pi());var ur=class extends It{connect(){console.log("Modal Connected")}open(r){console.log(r),(0,mi.default)("#modal").show(),console.log("Modal Opened")}close(r){console.log(r);let t=(0,mi.default)("#modal");r.detail.success&&t.hide()}};ce(ur,"targets",["modal"]);var hr=class{constructor(t){this.response=t}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return this.statusCode===401}get unprocessableEntity(){return this.statusCode===422}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}async renderTurboStream(){if(this.isTurboStream)window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");else return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`))}};var dr=class{static register(t){this.interceptor=t}static get(){return this.interceptor}static reset(){this.interceptor=void 0}};function us(r){let t=document.cookie?document.cookie.split("; "):[],e=`${encodeURIComponent(r)}=`,n=t.find(s=>s.startsWith(e));if(n){let s=n.split("=").slice(1).join("=");if(s)return decodeURIComponent(s)}}function hs(r){let t={};for(let e in r){let n=r[e];n!==void 0&&(t[e]=n)}return t}function gi(r){let t=document.head.querySelector(`meta[name="${r}"]`);return t&&t.content}function ds(r){return[...r].reduce((t,[e,n])=>t.concat(typeof n=="string"?[[e,n]]:[]),[])}function fs(r,t){for(let[e,n]of t)n instanceof window.File||(r.has(e)?(r.delete(e),r.set(e,n)):r.append(e,n))}var ke=class{constructor(t,e,n={}){this.method=t,this.options=n,this.originalUrl=e.toString()}async perform(){try{let e=dr.get();e&&await e(this)}catch(e){console.error(e)}let t=new hr(await window.fetch(this.url,this.fetchOptions));return t.unauthenticated&&t.authenticationURL?Promise.reject(window.location.href=t.authenticationURL):(t.ok&&t.isTurboStream&&await t.renderTurboStream(),t)}addHeader(t,e){let n=this.additionalHeaders;n[t]=e,this.options.headers=n}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:"same-origin",redirect:this.redirect}}get headers(){return hs(Object.assign({"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":this.csrfToken,"Content-Type":this.contentType,Accept:this.accept},this.additionalHeaders))}get csrfToken(){return us(gi("csrf-param"))||gi("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:this.body==null||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";default:return"*/*"}}get body(){return this.options.body}get query(){let t=(this.originalUrl.split("?")[1]||"").split("#")[0],e=new URLSearchParams(t),n=this.options.query;n instanceof window.FormData?n=ds(n):n instanceof window.URLSearchParams?n=n.entries():n=Object.entries(n||{}),fs(e,n);let s=e.toString();return s.length>0?`?${s}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){let t=Object.prototype.toString.call(this.body)==="[object String]";return this.headers["Content-Type"]==="application/json"&&!t?JSON.stringify(this.body):this.body}};async function Jr(r,t){return new ke("post",r,t).perform()}async function de(r,t){return new ke("patch",r,t).perform()}async function yi(r,t){return new ke("delete",r,t).perform()}var fe=tn(pi());var qe=class extends It{connect(){console.log("recipe controller")}async createTitle(r){let t={};t.title=this.titleTarget.value;let e=await Jr("/recipes/title",{body:t,responseKind:"json"});e.ok&&e.text.then(n=>{let{edit_url:s}=JSON.parse(n);window.location=s})}async editTitle(r){let t={};t.title=this.titleTarget.value,t.id=this.idValue,t.edit="edit",console.log("Iam editing the title"),console.log(this.idValue);let e=await Jr("/recipes/title",{body:t,responseKind:"json"});e.ok&&e.text.then(n=>{let{edit_url:s}=JSON.parse(n);window.location=s})}async create_ingredient(r){r.preventDefault();let t=(0,fe.default)("#recipeModal"),e=(0,fe.default)("#_recipe_ingredient_form")[0],n=new FormData(e);if(n.append("id",this.idValue),e.checkValidity()){let s=await de("/recipes/create_ingredient",{body:n,responseKind:"json"});s.ok?t.hide():s.json.then(function(h){})}}async update_ingredient(r){let t=(0,fe.default)("#ingredient")[0],e=new FormData(t);if(t.checkVisibility()){let n=await de(`/ingredients/${this.ingredientIdValue}`,{body:e,responseKind:"turbo-stream"});n.ok||console.log("server response",n)}}async delete(){let r=await yi(`/ingredients/${this.ingredientIdValue}`,{responseKind:"turbo-stream"});r.ok?console.log(r):console.log("server response",r)}add_direction_fields(){let r=(0,fe.default)("#recipe-direction")[0],t=(0,fe.default)("#submit-direction-button")[0],e=this.originalTarget.cloneNode(!0),n=r.getElementsByTagName("input").length-1;e.getElementsByTagName("input")[0].name=`direction[${n+1}]`,n>0&&t.removeAttribute("hidden"),e.removeAttribute("hidden"),this.addDirectionTarget.removeAttribute("hidden"),this.dynamicTarget.append(e)}async submitDirection(){let r=(0,fe.default)("#recipe-direction")[0],t=new FormData(r);for(let e of t.entries())console.log(e);if(r.checkVisibility()){let e=await de("/recipes/create_directions",{body:t,responseKind:"turbo-stream"});e.ok?console.log(e):console.log("server response",e)}}edit_direction(r){let t=(0,fe.default)("#recipe-direction")[0]}async update_direction(r){let t=(0,fe.default)("#recipe-direction-edit")[0],e=new FormData(t);if(t.checkVisibility()){let n=await de("/recipes/update_direction",{body:e,responseKind:"turbo-stream"});n.ok?console.log(n):console.log("server response",n)}}async delete_direction(r){console.log(this.idValue),console.log(this.ingredientIdValue);let t="",e="",n=await de("/recipes/delete_direction",{body:{id:this.ingredientIdValue,recipe_id:this.idValue},responseKind:"turbo-stream"});n.ok?console.log(n):console.log("server response",n)}};ce(qe,"targets",["title","dynamic","original","addDirection"]),ce(qe,"values",{title:String,ingredients:Array,directions:Array,description:String,id:Number,ingredientId:Number});var fr=class extends It{connect(){console.log("hello connected")}update(r){let t=this.planValue,e=this.mealValue,n=this.mealtypeValue,s=this.dayValue,h={};h.plan_id=t,h.id=t,h.recipe_id=e,h.meal_type=n,h.day=s,de("/plans/meal_update/",{body:h,responseKind:"turbo-stream"})}};ce(fr,"values",{plan:Number,mealtype:String,meal:Number,day:String});var pr=class extends It{hideModal(){this.element.parentElement.removeAttribute("src"),this.modalTarget.remove()}submitEnd(r){r.preventDefault()}closeWithKeyboard(r){r.code=="Escape"&&this.hideModal()}closeBackground(r){r&&this.modalTarget.contains(r.target)||this.hideModal()}};ce(pr,"targets",["modal"]);we.register("hello",zr);we.register("modal",ur);we.register("recipe",qe);we.register("mealplan",fr);we.register("turbo-modal",pr);var Sl=tn(ps());Vn();})();
/*! Bundled license information:

preline/dist/preline.js:
  (*! For license information please see preline.js.LICENSE.txt *)
*/
//# sourceMappingURL=application.js.map
